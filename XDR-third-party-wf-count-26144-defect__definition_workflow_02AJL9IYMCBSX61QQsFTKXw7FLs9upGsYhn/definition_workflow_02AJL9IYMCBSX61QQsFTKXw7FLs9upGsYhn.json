{
  "workflow": {
    "unique_name": "definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn",
    "name": "Verify ThirdParty, cisco-ess-tier and Cisco System Atomic Counts",
    "title": "Verify ThirdParty, cisco-ess-tier and Cisco System Atomic Counts",
    "type": "generic.workflow",
    "base_type": "workflow",
    "variables": [
      {
        "schema_id": "datatype.integer",
        "properties": {
          "value": 121,
          "scope": "input",
          "name": "Enter DB Count system atomic WF Count Which does not have Flags",
          "type": "datatype.integer",
          "description": "{owner:\"system\",\"properties.atomic.is_atomic\":true,$and:[{\"metadata.flags\":{$eq:null}},{\"metadata.flags\":{$nin:[\"third-party\",\"cisco-and-ess-tier\"]}}]}",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02I5I4DWG5RQK3u4JhGPoavssXAM0GbPAQT",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "output",
          "name": "Flags_Count",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02AJOZMJ7WK6Y0pBryg44yAR0I4ccJ3TJVp",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.integer",
        "properties": {
          "value": 39,
          "scope": "input",
          "name": "Enter DB Count- system atomicwf has Third party,cisco_ess_tier",
          "type": "datatype.integer",
          "description": "Fetch the count using below query \n\n{ owner: \"system\", \"properties.atomic.is_atomic\": true, $and: [ { \"metadata.flags\": { $ne: null } }, { \"metadata.flags\": { $all: [\"third-party\", \"cisco-and-ess-tier\"] } }, { \"metadata.flags\": { $size: 2 } } ] }",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02I5I98K1825X03m0Obu8mmhwUvGqnwqKMh",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "output",
          "name": "System_Atomics_Wf_names",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02C82Z672LSMN4r6bIh0e7olUAEeLw2WIl1",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.integer",
        "properties": {
          "value": 518,
          "scope": "input",
          "name": "Enter DB Count for System Atomics Wfs",
          "type": "datatype.integer",
          "description": "{\"properties.atomic.is_atomic\":true,owner:\"system\"}",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02HUVWDXK9T9Z3fjqo5zLvrJ85yTBv6OjjN",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "output",
          "name": "System_Non-Atomics_Wf_Ids",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02C82ZMU3BKM30DtRTqnOgXO1jeZPbQQVfK",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.integer",
        "properties": {
          "value": 17,
          "scope": "input",
          "name": "Enter DB Count for Non-Atomic WF created by System",
          "type": "datatype.integer",
          "description": "{\"properties.atomic.is_atomic\":false,owner:\"system\"}\n\nDont include the wf which has Incident Analysis as wf intent. ",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02HUVPVRYSH673W17E9thvy1PTYKzA4GKTL",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.integer",
        "properties": {
          "value": 535,
          "scope": "input",
          "name": "Enter DB Count for Total System WF Count (Atomic+Non-Atomic)",
          "type": "datatype.integer",
          "description": "{\"properties.atomic.is_atomic\":true,owner:\"system\"}\n\n{\"properties.atomic.is_atomic\":false,owner:\"system\"}\n\nCount of combining both query counts",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02I5ICZ1B6BWY3OlCrBuWlqdxCHRKsgmoKM",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "output",
          "name": "System_Atomics_Wf_Ids",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02C82ZAOKELTA7g5JPwJlGdFREooDABPxF2",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "output",
          "name": "System_Non-Atomics_Wf_names",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02C82ZH06R4F14LjPl2pPw0EGiO7S6zCbbm",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "Fail",
          "scope": "output",
          "name": "Overall_TestStatus",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02AS5HLXP4AE71RwFY1lWBpkZvfV8A1BKSK",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.integer",
        "properties": {
          "value": 146,
          "scope": "input",
          "name": "Enter DB Count for System atomic WF which has Cisco Flag",
          "type": "datatype.integer",
          "description": "Below Query Used to Fetch the Data \n\n{owner:\"system\",\"properties.atomic.is_atomic\":true,$and:[{\"metadata.flags\":{$ne:null}},{\"metadata.flags\":{$in:[\"cisco\"]}}]}",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02ALSQDDAA24Y6N4rPibZA2pCdievJOdBpc",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.integer",
        "properties": {
          "value": 0,
          "scope": "output",
          "name": "Total Count of System Wfs (Atomic+Non-Atomic)",
          "type": "datatype.integer",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02HUVTLUHDSKQ3HYqAgXHL4C4dUDwRvLZvf",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.integer",
        "properties": {
          "value": 212,
          "scope": "input",
          "name": "Enter DB Count for System atomic wf which has Third party flag",
          "type": "datatype.integer",
          "description": "Verify in the DB and Then Provide Data.\n\nBelow Query Used to Fetch the Data \n\n{ owner: \"system\", \"properties.atomic.is_atomic\": true, $and: [ { \"metadata.flags\": { $ne: null } }, { \"metadata.flags\": { $in: [\"third-party\"] } }, { \"metadata.flags\": { $size: 1 } } ] } ",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02AKCLTFLXRLT0LlOEcxQKMW4Q7gXbqURFf",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.integer",
        "properties": {
          "value": 0,
          "scope": "input",
          "name": "Enter DB Count-system atomicWF which has cisco_and_ess_tier flag",
          "type": "datatype.integer",
          "description": "Verify in the DB and Then Provide Data.\n\nBelow Query Used to Fetch the Data \n\n{owner:\"system\",\"properties.atomic.is_atomic\":true,$and:[{\"metadata.flags\":{$ne:null}},{\"metadata.flags\":{$in:[\"cisco-and-ess-tier\"]}},{ \"metadata.flags\": { $size: 1 } }]}",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02AKF16OJFEE67A29w1anjQRpJDGaGYuVdn",
        "object_type": "variable_workflow"
      }
    ],
    "properties": {
      "atomic": {
        "is_atomic": false
      },
      "delete_workflow_instance": false,
      "description": "While running this WF , User Prompt with Variable , where he need enter the Count of the records , that can be get from the below query.\nexecute below command in MangoDB Compass and get the Baseline count of results. then updated count while running automation. \n{owner:\"system\",\"properties.atomic.is_atomic\":true,$and:[{\"metadata.flags\":{$ne:null}},{\"metadata.flags\":{$in:[\"third-party\"]}}]} \n{owner:\"system\",\"properties.atomic.is_atomic\":true,$and:[{\"metadata.flags\":{$ne:null}},{\"metadata.flags\":{$in:[\"cisco\"]}}]} \n{owner:\"system\",\"properties.atomic.is_atomic\":true,$and:[{\"metadata.flags\":{$ne:null}},{\"metadata.flags\":{$in:[\"cisco-and-ess-tier\"]}}]} \n{owner:\"system\",\"properties.atomic.is_atomic\":true,$and:[{\"metadata.flags\":{$ne:null}},{\"metadata.flags\":{$nin:[\"third-party\",\"cisco-and-ess-tier\"]}}]} \n{owner:\"system\",\"properties.atomic.is_atomic\":true,$and:[{\"metadata.flags\":{$eq:null}},{\"metadata.flags\":{$nin:[\"third-party\",\"cisco-and-ess-tier\"]}}]}\n{\"properties.atomic.is_atomic\":true,owner:\"system\"}",
      "display_name": "Verify ThirdParty, cisco-ess-tier and Cisco System Atomic Counts",
      "runtime_user": {
        "target_default": true
      },
      "target": {
        "target_type": "web-service.endpoint",
        "specify_on_workflow_start": true
      }
    },
    "object_type": "definition_workflow",
    "actions": [
      {
        "unique_name": "definition_activity_02AJLADGQX3S61mm5InQqcr8jS7vr1xN4SF",
        "name": "HTTP Request",
        "title": "GET Call to Fetch the Atomics in the system",
        "type": "web-service.http_request",
        "base_type": "activity",
        "properties": {
          "action_timeout": 180,
          "allow_auto_redirect": true,
          "allow_headers_redirect": false,
          "content_type": "application/json",
          "continue_on_error_status_code": false,
          "continue_on_failure": true,
          "display_name": "GET Call to Fetch the Atomics in the system",
          "method": "POST",
          "relative_url": "/api/v1.1/workflows?start=0\u0026limit=100000\u0026sort_by=updated_on\u0026is_atomic=true",
          "runtime_user": {
            "target_default": true
          },
          "skip_execution": false,
          "target": {
            "use_workflow_target": true
          }
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02AJM174GNHFJ6SkyOCfrOnqvP8xSgRlBPS",
        "name": "JSONPath Query",
        "title": "Fetch the Atomics Created by System",
        "type": "corejava.jsonpathquery",
        "base_type": "activity",
        "properties": {
          "action_timeout": 180,
          "continue_on_failure": true,
          "display_name": "Fetch the Atomics Created by System",
          "input_json": "$activity.definition_activity_02AJLADGQX3S61mm5InQqcr8jS7vr1xN4SF.output.response_body$",
          "jsonpath_queries": [
            {
              "jsonpath_query": "$.results[?(@.owner=='system')]",
              "jsonpath_query_name": "WF_Having_System_Owner",
              "jsonpath_query_type": "string",
              "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
            }
          ],
          "skip_execution": false
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02AJOS6THXAG32kU2W6DGarkPmuEUmidhxc",
        "name": "JSONPath Query",
        "title": "Fetch Flags",
        "type": "corejava.jsonpathquery",
        "base_type": "activity",
        "properties": {
          "action_timeout": 180,
          "continue_on_failure": true,
          "display_name": "Fetch Flags",
          "input_json": "$activity.definition_activity_02AJM174GNHFJ6SkyOCfrOnqvP8xSgRlBPS.output.jsonpath_queries.WF_Having_System_Owner$",
          "jsonpath_queries": [
            {
              "jsonpath_query": "$..metadata.flags",
              "jsonpath_query_name": "Flags",
              "jsonpath_query_type": "string",
              "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
            },
            {
              "jsonpath_query": "$..name",
              "jsonpath_query_name": "System_Atomic_WF_name",
              "jsonpath_query_type": "string",
              "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
            },
            {
              "jsonpath_query": "$..id",
              "jsonpath_query_name": "System_Atomic_WF_ID",
              "jsonpath_query_type": "string"
            }
          ],
          "skip_execution": false
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02C836KMIKB2E3AP6bdGSFZCMHMLfH4Abjq",
        "name": "Execute Python Script",
        "title": "Format the WF names List",
        "type": "python3.script",
        "base_type": "activity",
        "properties": {
          "action_timeout": 180,
          "continue_on_failure": false,
          "display_name": "Format the WF names List",
          "script": "paragraph = $activity.definition_activity_02AJOS6THXAG32kU2W6DGarkPmuEUmidhxc.output.jsonpath_queries.System_Atomic_WF_name$\nformatted_paragraph = \"\\n\".join([f\"{i+1}. {item}\" for i, item in enumerate(paragraph)])\n\nprint(formatted_paragraph)",
          "skip_execution": false
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02C837J1S5B4L2Tcu8piIBXgf4wptKtWjEM",
        "name": "Execute Python Script",
        "title": "Format the WF Ids List",
        "type": "python3.script",
        "base_type": "activity",
        "properties": {
          "action_timeout": 180,
          "continue_on_failure": false,
          "display_name": "Format the WF Ids List",
          "script": "paragraph = $activity.definition_activity_02AJOS6THXAG32kU2W6DGarkPmuEUmidhxc.output.jsonpath_queries.System_Atomic_WF_ID$\nformatted_paragraph = \"\\n\".join([f\"{i+1}. {item}\" for i, item in enumerate(paragraph)])\n\nprint(formatted_paragraph)",
          "skip_execution": false
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02ALS9TW0F91V3Bj2e8F2QCqE1TuVej41JQ",
        "name": "JSONPath Query",
        "title": "Fetch the Total Atomic WF Records By System Owner",
        "type": "corejava.jsonpathquery",
        "base_type": "activity",
        "properties": {
          "action_timeout": 180,
          "continue_on_failure": true,
          "display_name": "Fetch the Total Atomic WF Records By System Owner",
          "input_json": "$activity.definition_activity_02AJM174GNHFJ6SkyOCfrOnqvP8xSgRlBPS.output.jsonpath_queries.WF_Having_System_Owner$",
          "jsonpath_queries": [
            {
              "jsonpath_query": "$.length()",
              "jsonpath_query_name": "Total_Count_Syatem_Atomic_WF",
              "jsonpath_query_type": "integer"
            }
          ],
          "skip_execution": false
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02I5HKHBLWC3Z3zZFkRQ0romTQtTNjVThZg",
        "name": "Execute Python Script",
        "title": "Print Flag having Third-Party , Cisco and cisco-and-ess-tier",
        "type": "python3.script",
        "base_type": "activity",
        "properties": {
          "action_timeout": 180,
          "continue_on_failure": true,
          "display_name": "Print Flag having Third-Party , Cisco and cisco-and-ess-tier",
          "script": "# Sample data\ndata = $activity.definition_activity_02AJOS6THXAG32kU2W6DGarkPmuEUmidhxc.output.jsonpath_queries.Flags$\n\n# Arrays containing only 'cisco'\ncisco_only = [item for item in data if item == [\"cisco\"]]\n#print(\"Cisco only:\", cisco_only)\nprint(\"Count of 'Cisco only':\", len(cisco_only))\n# Arrays containing only 'third-party'\nthird_party_only = [item for item in data if item == [\"third-party\"]]\n#print(\"Third-party only:\", third_party_only)\nprint(\"Count of 'Third-party only':\", len(third_party_only))\n# Arrays containing only 'cisco-and-ess-tier'\ncisco_and_ess_tier_only = [item for item in data if item == [\"cisco-and-ess-tier\"]]\n#print(\"Cisco-and-ESS-tier only:\", cisco_and_ess_tier_only)\nprint(\"Count of 'Cisco-and-ESS-tier only':\", len(cisco_and_ess_tier_only))\n# Arrays containing both 'third-party' and 'cisco-and-ess-tier'\nthird_party_and_ess_tier = [item for item in data if \"third-party\" in item and \"cisco-and-ess-tier\" in item]\n#print(\"Third-party and Cisco-and-ESS-tier:\", third_party_and_ess_tier)\nprint(\"Count of 'Third-party and Cisco-and-ESS-tier':\", len(third_party_and_ess_tier))",
          "skip_execution": false
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02ALUBU7H50JW2vkR3HATkblaWqQ1AjrSos",
        "name": "Execute Python Script",
        "title": "Fetch Flag Counts for Third-Party",
        "type": "python3.script",
        "base_type": "activity",
        "properties": {
          "action_timeout": 180,
          "continue_on_failure": true,
          "display_name": "Fetch Flag Counts for Third-Party",
          "script": "# Sample data\ndata = $activity.definition_activity_02AJOS6THXAG32kU2W6DGarkPmuEUmidhxc.output.jsonpath_queries.Flags$\n\n# Arrays containing only 'third-party'\nthird_party_only = [item for item in data if item == [\"third-party\"]]\nprint(len(third_party_only))",
          "skip_execution": false
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02I5HN42HOXVT55h9JGeXv5KQShyn7z2nh1",
        "name": "Execute Python Script",
        "title": "Fetch Flag Counts for Cisco",
        "type": "python3.script",
        "base_type": "activity",
        "properties": {
          "action_timeout": 180,
          "continue_on_failure": true,
          "display_name": "Fetch Flag Counts for Cisco",
          "script": "# Sample data\ndata = $activity.definition_activity_02AJOS6THXAG32kU2W6DGarkPmuEUmidhxc.output.jsonpath_queries.Flags$\n\n# Arrays containing only 'cisco'\ncisco_only = [item for item in data if item == [\"cisco\"]]\nprint(len(cisco_only))",
          "skip_execution": false
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02I5HOF3BEK7O0tfbr0zljCJdKg52SaWnfu",
        "name": "Execute Python Script",
        "title": "Fetch Flag Counts for cisco-and-ess-tier",
        "type": "python3.script",
        "base_type": "activity",
        "properties": {
          "action_timeout": 180,
          "continue_on_failure": true,
          "display_name": "Fetch Flag Counts for cisco-and-ess-tier",
          "script": "# Sample data\ndata = $activity.definition_activity_02AJOS6THXAG32kU2W6DGarkPmuEUmidhxc.output.jsonpath_queries.Flags$\n\n# Arrays containing only 'cisco-and-ess-tier'\ncisco_and_ess_tier_only = [item for item in data if item == [\"cisco-and-ess-tier\"]]\nprint(len(cisco_and_ess_tier_only))",
          "skip_execution": false
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02I5HN5S1GL290YuZajAuvQa6oIbA95cdP8",
        "name": "Execute Python Script",
        "title": "Fetch Flag Counts for Third-Party and cisco-and-ess-tier",
        "type": "python3.script",
        "base_type": "activity",
        "properties": {
          "action_timeout": 180,
          "continue_on_failure": true,
          "display_name": "Fetch Flag Counts for Third-Party and cisco-and-ess-tier",
          "script": "# Sample data\ndata = $activity.definition_activity_02AJOS6THXAG32kU2W6DGarkPmuEUmidhxc.output.jsonpath_queries.Flags$\n\n# Arrays containing both 'third-party' and 'cisco-and-ess-tier'\nthird_party_and_ess_tier = [item for item in data if \"third-party\" in item and \"cisco-and-ess-tier\" in item]\nprint(len(third_party_and_ess_tier))",
          "skip_execution": false
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02ALUYH7MRC034hHFSTVr5aFQB1YbzDvMz5",
        "name": "Execute Python Script",
        "title": "Fetch the Count Which Does not Have Flags",
        "type": "python3.script",
        "base_type": "activity",
        "properties": {
          "action_timeout": 180,
          "continue_on_failure": true,
          "display_name": "Fetch the Count Which Does not Have Flags",
          "script": "# Sample strings\nstr1_Total_System_Atomics = \"$activity.definition_activity_02ALS9TW0F91V3Bj2e8F2QCqE1TuVej41JQ.output.jsonpath_queries.Total_Count_Syatem_Atomic_WF$\"\nstr2_Only_Thirdpaty = \"$activity.definition_activity_02ALUBU7H50JW2vkR3HATkblaWqQ1AjrSos.output.response_body$\"\nstr3_Ony_Cisco = \"$activity.definition_activity_02I5HN42HOXVT55h9JGeXv5KQShyn7z2nh1.output.response_body$\"\nstr4_Ony_cisco_and_ess_tier = \"$activity.definition_activity_02I5HOF3BEK7O0tfbr0zljCJdKg52SaWnfu.output.response_body$\"\nstr5_Ony_third_party_and_cisco_and_ess_tier = \"$activity.definition_activity_02I5HN5S1GL290YuZajAuvQa6oIbA95cdP8.output.response_body$\"\n\n# Convert strings to integers and perform subtraction to fetch count which does not have flags\nCount_for_Atomic_Having_NoFlags = int(str1_Total_System_Atomics) - int(str2_Only_Thirdpaty) - int(str3_Ony_Cisco) - int(str4_Ony_cisco_and_ess_tier) - int(str5_Ony_third_party_and_cisco_and_ess_tier) \n\nprint(Count_for_Atomic_Having_NoFlags)",
          "skip_execution": false
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02BJSED1H4NRN2iJFiARjSjl6akMzhMGDgw",
        "name": "HTTP Request",
        "title": "GET Call to Fetch the Non-Atomics in the system",
        "type": "web-service.http_request",
        "base_type": "activity",
        "properties": {
          "action_timeout": 180,
          "allow_auto_redirect": true,
          "allow_headers_redirect": false,
          "content_type": "application/json",
          "continue_on_error_status_code": false,
          "continue_on_failure": true,
          "display_name": "GET Call to Fetch the Non-Atomics in the system",
          "method": "POST",
          "relative_url": "/api/v1.1/workflows?is_atomic=false\u0026start=0\u0026limit=100000\u0026sort_by=updated_on\u0026search=XDR",
          "runtime_user": {
            "target_default": true
          },
          "skip_execution": false,
          "target": {
            "use_workflow_target": true
          }
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02BJSES7O71PH0tUYTsmwdQcNRiwRGJrqUB",
        "name": "JSONPath Query",
        "title": "Fetch the Non-Atomics Created by System",
        "type": "corejava.jsonpathquery",
        "base_type": "activity",
        "properties": {
          "action_timeout": 180,
          "continue_on_failure": true,
          "display_name": "Fetch the Non-Atomics Created by System",
          "input_json": "$activity.definition_activity_02BJSED1H4NRN2iJFiARjSjl6akMzhMGDgw.output.response_body$",
          "jsonpath_queries": [
            {
              "jsonpath_query": "$.results[?(@.owner=='system')]",
              "jsonpath_query_name": "No-Atomics-WF_Having_System_Owner",
              "jsonpath_query_type": "string",
              "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
            }
          ],
          "skip_execution": false
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02BJSGTEDY5W257LH3mAX9DCWM7ngkjMpvG",
        "name": "JSONPath Query",
        "title": "WF Counts for Non-Atomics WF",
        "type": "corejava.jsonpathquery",
        "base_type": "activity",
        "properties": {
          "action_timeout": 180,
          "continue_on_failure": true,
          "display_name": "WF Counts for Non-Atomics WF",
          "input_json": "$activity.definition_activity_02BJSES7O71PH0tUYTsmwdQcNRiwRGJrqUB.output.jsonpath_queries.No-Atomics-WF_Having_System_Owner$",
          "jsonpath_queries": [
            {
              "jsonpath_query": "$.length()",
              "jsonpath_query_name": "Count_for_Non_System_Atomics",
              "jsonpath_query_type": "integer"
            },
            {
              "jsonpath_query": "$..name",
              "jsonpath_query_name": "System_Non-Atomic-WFNames",
              "jsonpath_query_type": "string",
              "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
            },
            {
              "jsonpath_query": "$..id",
              "jsonpath_query_name": "System_Non-Atomic-WFIds",
              "jsonpath_query_type": "string",
              "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
            }
          ],
          "skip_execution": false
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02C834Z9BK2AH2ZhcbRkDN1jvpP4CGwIq2C",
        "name": "Execute Python Script",
        "title": "Format the WF names List",
        "type": "python3.script",
        "base_type": "activity",
        "properties": {
          "action_timeout": 180,
          "continue_on_failure": false,
          "display_name": "Format the WF names List",
          "script": "paragraph = $activity.definition_activity_02BJSGTEDY5W257LH3mAX9DCWM7ngkjMpvG.output.jsonpath_queries.System_Non-Atomic-WFNames$\n\nformatted_paragraph = \"\\n\".join([f\"{i+1}. {item}\" for i, item in enumerate(paragraph)])\n\nprint(formatted_paragraph)",
          "skip_execution": false
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02C837TR83BUI3YFT0LmAtexpoDX4oce6EJ",
        "name": "Execute Python Script",
        "title": "Format the WF Ids List",
        "type": "python3.script",
        "base_type": "activity",
        "properties": {
          "action_timeout": 180,
          "continue_on_failure": false,
          "display_name": "Format the WF Ids List",
          "script": "paragraph = $activity.definition_activity_02BJSGTEDY5W257LH3mAX9DCWM7ngkjMpvG.output.jsonpath_queries.System_Non-Atomic-WFIds$\n\nformatted_paragraph = \"\\n\".join([f\"{i+1}. {item}\" for i, item in enumerate(paragraph)])\n\nprint(formatted_paragraph)",
          "skip_execution": false
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02HUVJWP0OZNM5Q4QBMNEsbvhTk00xinLep",
        "name": "Set Variables",
        "title": "Total Count of System Wfs",
        "type": "core.set_multiple_variables",
        "base_type": "activity",
        "properties": {
          "continue_on_failure": true,
          "display_name": "Total Count of System Wfs",
          "skip_execution": false,
          "variables_to_update": [
            {
              "variable_to_update": "$workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.output.variable_workflow_02HUVTLUHDSKQ3HYqAgXHL4C4dUDwRvLZvf$",
              "variable_value_new": "$activity.definition_activity_02ALS9TW0F91V3Bj2e8F2QCqE1TuVej41JQ.output.jsonpath_queries.Total_Count_Syatem_Atomic_WF$+$activity.definition_activity_02BJSGTEDY5W257LH3mAX9DCWM7ngkjMpvG.output.jsonpath_queries.Count_for_Non_System_Atomics$"
            }
          ]
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02AJOYYRL784K3BcVzzJTsh3sBsx6t0WThk",
        "name": "Set Variables",
        "title": "Store the Count For all Flags",
        "type": "core.set_multiple_variables",
        "base_type": "activity",
        "properties": {
          "continue_on_failure": true,
          "display_name": "Store the Count For all Flags",
          "skip_execution": false,
          "variables_to_update": [
            {
              "variable_to_update": "$workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.output.variable_workflow_02AJOZMJ7WK6Y0pBryg44yAR0I4ccJ3TJVp$",
              "variable_value_new": "Total System Wfs Count (Atomic+Non-Atomic) -- $workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.output.variable_workflow_02HUVTLUHDSKQ3HYqAgXHL4C4dUDwRvLZvf$\nBaseLine Count for System Wfs (Atomic+Non-Atomic) -- $workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.input.variable_workflow_02I5ICZ1B6BWY3OlCrBuWlqdxCHRKsgmoKM$\n------------------------------------------------------------------------------------------\nAtomic WF having third-party Flag  --\u003e $activity.definition_activity_02ALUBU7H50JW2vkR3HATkblaWqQ1AjrSos.output.response_body$\nBaseLine Atomic WF having third-party Flag --\u003e $workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.input.variable_workflow_02AKCLTFLXRLT0LlOEcxQKMW4Q7gXbqURFf$\n------------------------------------------------------------------------------------------\nAtomic WF having Cisco Flag--\u003e $activity.definition_activity_02I5HN42HOXVT55h9JGeXv5KQShyn7z2nh1.output.response_body$\nBaseLine Atomic WF having Cisco Flag --\u003e $workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.input.variable_workflow_02ALSQDDAA24Y6N4rPibZA2pCdievJOdBpc$\n------------------------------------------------------------------------------------------\nAtomic WF having third-party and cisco_and_ess_tier  Flag--\u003e $activity.definition_activity_02I5HN5S1GL290YuZajAuvQa6oIbA95cdP8.output.response_body$\nBaseLine Atomic WF having third-party and cisco_and_ess_tier Flag--\u003e $workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.input.variable_workflow_02I5I98K1825X03m0Obu8mmhwUvGqnwqKMh$\n------------------------------------------------------------------------------------------\nAtomic WF having Only cisco_and_ess_tier Flag--\u003e $activity.definition_activity_02I5HOF3BEK7O0tfbr0zljCJdKg52SaWnfu.output.response_body$\nBaseLine Atomic WF having Only cisco_and_ess_tier Flag--\u003e $workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.input.variable_workflow_02AKF16OJFEE67A29w1anjQRpJDGaGYuVdn$\n------------------------------------------------------------------------------------------\nWF having no Flags --\u003e $activity.definition_activity_02ALUYH7MRC034hHFSTVr5aFQB1YbzDvMz5.output.response_body$\nBaseLine Atomic WF having No Flags--\u003e $workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.input.variable_workflow_02I5I4DWG5RQK3u4JhGPoavssXAM0GbPAQT$\n------------------------------------------------------------------------------------------\nTotal System Atomic Counts --\u003e $activity.definition_activity_02ALS9TW0F91V3Bj2e8F2QCqE1TuVej41JQ.output.jsonpath_queries.Total_Count_Syatem_Atomic_WF$\nBaseLine System Atomic WF --\u003e $workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.input.variable_workflow_02HUVWDXK9T9Z3fjqo5zLvrJ85yTBv6OjjN$\n------------------------------------------------------------------------------------------\nTotal Non-Atomics Created by System --\u003e $activity.definition_activity_02BJSGTEDY5W257LH3mAX9DCWM7ngkjMpvG.output.jsonpath_queries.Count_for_Non_System_Atomics$\nBaseLine Non-Atomics Created by System --\u003e $workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.input.variable_workflow_02HUVPVRYSH673W17E9thvy1PTYKzA4GKTL$\n------------------------------------------------------------------------------------------"
            },
            {
              "variable_to_update": "$workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.output.variable_workflow_02C82ZAOKELTA7g5JPwJlGdFREooDABPxF2$",
              "variable_value_new": "$activity.definition_activity_02C837J1S5B4L2Tcu8piIBXgf4wptKtWjEM.output.response_body$"
            },
            {
              "variable_to_update": "$workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.output.variable_workflow_02C82Z672LSMN4r6bIh0e7olUAEeLw2WIl1$",
              "variable_value_new": "$activity.definition_activity_02C836KMIKB2E3AP6bdGSFZCMHMLfH4Abjq.output.response_body$"
            },
            {
              "variable_to_update": "$workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.output.variable_workflow_02C82ZMU3BKM30DtRTqnOgXO1jeZPbQQVfK$",
              "variable_value_new": "$activity.definition_activity_02C837TR83BUI3YFT0LmAtexpoDX4oce6EJ.output.response_body$"
            },
            {
              "variable_to_update": "$workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.output.variable_workflow_02C82ZH06R4F14LjPl2pPw0EGiO7S6zCbbm$",
              "variable_value_new": "$activity.definition_activity_02C834Z9BK2AH2ZhcbRkDN1jvpP4CGwIq2C.output.response_body$"
            }
          ]
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02AKCH2DNDVS26tIw6OOXF4EP2rTncvVqJO",
        "name": "Condition Block",
        "title": "Verify the Count",
        "type": "logic.if_else",
        "base_type": "activity",
        "properties": {
          "conditions": [],
          "continue_on_failure": false,
          "display_name": "Verify the Count",
          "skip_execution": false
        },
        "object_type": "definition_activity",
        "blocks": [
          {
            "unique_name": "definition_activity_02AKCH2DUNHND4Y3yvg71jxxMwnzKRfiAfR",
            "name": "Condition Branch",
            "title": "Matched , then Mark Test as Passed",
            "type": "logic.condition_block",
            "base_type": "activity",
            "properties": {
              "condition": {
                "left_operand": {
                  "left_operand": {
                    "left_operand": {
                      "left_operand": {
                        "left_operand": {
                          "left_operand": {
                            "left_operand": {
                              "left_operand": "$activity.definition_activity_02ALUBU7H50JW2vkR3HATkblaWqQ1AjrSos.output.response_body$",
                              "operator": "eq",
                              "right_operand": "$workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.input.variable_workflow_02AKCLTFLXRLT0LlOEcxQKMW4Q7gXbqURFf$"
                            },
                            "operator": "and",
                            "right_operand": {
                              "left_operand": "$activity.definition_activity_02I5HOF3BEK7O0tfbr0zljCJdKg52SaWnfu.output.response_body$",
                              "operator": "eq",
                              "right_operand": "$workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.input.variable_workflow_02AKF16OJFEE67A29w1anjQRpJDGaGYuVdn$"
                            }
                          },
                          "operator": "and",
                          "right_operand": {
                            "left_operand": "$activity.definition_activity_02ALUYH7MRC034hHFSTVr5aFQB1YbzDvMz5.output.response_body$",
                            "operator": "eq",
                            "right_operand": "$workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.input.variable_workflow_02I5I4DWG5RQK3u4JhGPoavssXAM0GbPAQT$"
                          }
                        },
                        "operator": "and",
                        "right_operand": {
                          "left_operand": "$activity.definition_activity_02ALS9TW0F91V3Bj2e8F2QCqE1TuVej41JQ.output.jsonpath_queries.Total_Count_Syatem_Atomic_WF$",
                          "operator": "eq",
                          "right_operand": "$workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.input.variable_workflow_02HUVWDXK9T9Z3fjqo5zLvrJ85yTBv6OjjN$"
                        }
                      },
                      "operator": "and",
                      "right_operand": {
                        "left_operand": "$activity.definition_activity_02BJSGTEDY5W257LH3mAX9DCWM7ngkjMpvG.output.jsonpath_queries.Count_for_Non_System_Atomics$",
                        "operator": "eq",
                        "right_operand": "$workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.input.variable_workflow_02HUVPVRYSH673W17E9thvy1PTYKzA4GKTL$"
                      }
                    },
                    "operator": "and",
                    "right_operand": {
                      "left_operand": "$workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.input.variable_workflow_02I5ICZ1B6BWY3OlCrBuWlqdxCHRKsgmoKM$",
                      "operator": "eq",
                      "right_operand": "$workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.output.variable_workflow_02HUVTLUHDSKQ3HYqAgXHL4C4dUDwRvLZvf$"
                    }
                  },
                  "operator": "and",
                  "right_operand": {
                    "left_operand": "$activity.definition_activity_02I5HN5S1GL290YuZajAuvQa6oIbA95cdP8.output.response_body$",
                    "operator": "eq",
                    "right_operand": "$workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.input.variable_workflow_02I5I98K1825X03m0Obu8mmhwUvGqnwqKMh$"
                  }
                },
                "operator": "and",
                "right_operand": {
                  "left_operand": "$activity.definition_activity_02I5HN42HOXVT55h9JGeXv5KQShyn7z2nh1.output.response_body$",
                  "operator": "eq",
                  "right_operand": "$workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.input.variable_workflow_02ALSQDDAA24Y6N4rPibZA2pCdievJOdBpc$"
                }
              },
              "continue_on_failure": false,
              "display_name": "Matched , then Mark Test as Passed",
              "skip_execution": false
            },
            "object_type": "definition_activity",
            "actions": [
              {
                "unique_name": "definition_activity_02AS5HPJQ8F2O2EujYctZYK88w3PRrpZagF",
                "name": "Set Variables",
                "title": "Pass",
                "type": "core.set_multiple_variables",
                "base_type": "activity",
                "properties": {
                  "continue_on_failure": false,
                  "display_name": "Pass",
                  "skip_execution": false,
                  "variables_to_update": [
                    {
                      "variable_to_update": "$workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.output.variable_workflow_02AS5HLXP4AE71RwFY1lWBpkZvfV8A1BKSK$",
                      "variable_value_new": "Pass"
                    }
                  ]
                },
                "object_type": "definition_activity"
              },
              {
                "unique_name": "definition_activity_02AKCI5BBCF360MVCixJ8aUW0JfUONtKUcX",
                "name": "Completed",
                "title": "Mark Test as Passed-Third-Party Counts Are Matched",
                "type": "logic.completed",
                "base_type": "activity",
                "properties": {
                  "completion_type": "succeeded",
                  "continue_on_failure": false,
                  "display_name": "Mark Test as Passed-Third-Party Counts Are Matched",
                  "result_message": "$workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.output.variable_workflow_02AJOZMJ7WK6Y0pBryg44yAR0I4ccJ3TJVp$",
                  "skip_execution": false
                },
                "object_type": "definition_activity"
              }
            ]
          },
          {
            "unique_name": "definition_activity_02I5I6K0SAFMZ5zYj5LZjuHBhAw1PYrNxoW",
            "name": "Condition Branch",
            "title": "Matched , then Mark Test as Passed",
            "type": "logic.condition_block",
            "base_type": "activity",
            "properties": {
              "condition": {
                "left_operand": {
                  "left_operand": {
                    "left_operand": {
                      "left_operand": {
                        "left_operand": {
                          "left_operand": {
                            "left_operand": {
                              "left_operand": "$activity.definition_activity_02ALUBU7H50JW2vkR3HATkblaWqQ1AjrSos.output.response_body$",
                              "operator": "ne",
                              "right_operand": "$workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.input.variable_workflow_02AKCLTFLXRLT0LlOEcxQKMW4Q7gXbqURFf$"
                            },
                            "operator": "or",
                            "right_operand": {
                              "left_operand": "$activity.definition_activity_02I5HOF3BEK7O0tfbr0zljCJdKg52SaWnfu.output.response_body$",
                              "operator": "ne",
                              "right_operand": "$workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.input.variable_workflow_02AKF16OJFEE67A29w1anjQRpJDGaGYuVdn$"
                            }
                          },
                          "operator": "or",
                          "right_operand": {
                            "left_operand": "$activity.definition_activity_02ALUYH7MRC034hHFSTVr5aFQB1YbzDvMz5.output.response_body$",
                            "operator": "ne",
                            "right_operand": "$workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.input.variable_workflow_02I5I4DWG5RQK3u4JhGPoavssXAM0GbPAQT$"
                          }
                        },
                        "operator": "or",
                        "right_operand": {
                          "left_operand": "$activity.definition_activity_02ALS9TW0F91V3Bj2e8F2QCqE1TuVej41JQ.output.jsonpath_queries.Total_Count_Syatem_Atomic_WF$",
                          "operator": "ne",
                          "right_operand": "$workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.input.variable_workflow_02HUVWDXK9T9Z3fjqo5zLvrJ85yTBv6OjjN$"
                        }
                      },
                      "operator": "or",
                      "right_operand": {
                        "left_operand": "$activity.definition_activity_02BJSGTEDY5W257LH3mAX9DCWM7ngkjMpvG.output.jsonpath_queries.Count_for_Non_System_Atomics$",
                        "operator": "ne",
                        "right_operand": "$workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.input.variable_workflow_02HUVPVRYSH673W17E9thvy1PTYKzA4GKTL$"
                      }
                    },
                    "operator": "or",
                    "right_operand": {
                      "left_operand": "$workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.input.variable_workflow_02I5ICZ1B6BWY3OlCrBuWlqdxCHRKsgmoKM$",
                      "operator": "ne",
                      "right_operand": "$workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.output.variable_workflow_02HUVTLUHDSKQ3HYqAgXHL4C4dUDwRvLZvf$"
                    }
                  },
                  "operator": "or",
                  "right_operand": {
                    "left_operand": "$activity.definition_activity_02I5HN5S1GL290YuZajAuvQa6oIbA95cdP8.output.response_body$",
                    "operator": "ne",
                    "right_operand": "$workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.input.variable_workflow_02I5I98K1825X03m0Obu8mmhwUvGqnwqKMh$"
                  }
                },
                "operator": "or",
                "right_operand": {
                  "left_operand": "$activity.definition_activity_02I5HN42HOXVT55h9JGeXv5KQShyn7z2nh1.output.response_body$",
                  "operator": "ne",
                  "right_operand": "$workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.input.variable_workflow_02ALSQDDAA24Y6N4rPibZA2pCdievJOdBpc$"
                }
              },
              "continue_on_failure": false,
              "display_name": "Matched , then Mark Test as Passed",
              "skip_execution": false
            },
            "object_type": "definition_activity",
            "actions": [
              {
                "unique_name": "definition_activity_02ALVT8RCR5XP1VklP3bZk2VFWCPf0iJjfc",
                "name": "Completed",
                "title": "Mark Test as Failed- Counts Are Not Matched",
                "type": "logic.completed",
                "base_type": "activity",
                "properties": {
                  "completion_type": "failed-completed",
                  "continue_on_failure": false,
                  "display_name": "Mark Test as Failed- Counts Are Not Matched",
                  "result_message": "$workflow.definition_workflow_02AJL9IYMCBSX61QQsFTKXw7FLs9upGsYhn.output.variable_workflow_02AJOZMJ7WK6Y0pBryg44yAR0I4ccJ3TJVp$",
                  "skip_execution": false
                },
                "object_type": "definition_activity"
              }
            ]
          }
        ]
      }
    ],
    "categories": [
      "category_1BMfMXSnJMyt5Ihqi7rWJr5N8cf"
    ]
  }
}