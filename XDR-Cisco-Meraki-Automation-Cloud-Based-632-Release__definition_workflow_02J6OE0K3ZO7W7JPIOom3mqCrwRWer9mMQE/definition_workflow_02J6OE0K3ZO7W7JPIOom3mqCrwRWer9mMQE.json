{
  "workflow": {
    "unique_name": "definition_workflow_02J6OE0K3ZO7W7JPIOom3mqCrwRWer9mMQE",
    "name": "XDR-Cisco Meraki Automation (Cloud Based-632 Release)",
    "title": "XDR-Cisco Meraki Automation (Cloud Based-632 Release)",
    "type": "generic.workflow",
    "base_type": "workflow",
    "variables": [
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "Fail",
          "scope": "output",
          "name": "Duplicated Atomic WF Execution Using ModuleTarget Test Status",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02J6RHPHSH1VD27NSzXCrwqX0YSRTk45EqM",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "local",
          "name": "Token (Without Bearer)",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02J6PH1MMESUP4qODYb3rZ2oG7NJuGzSn87",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "Cisco Meraki - Get Organizations",
          "scope": "local",
          "name": "Meraki Atomic Workflow Name",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02J6OIY7IFQ9P0QBihsPW1InhTHfxTRbhPx",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "Fail",
          "scope": "output",
          "name": "Overall Test Status",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02J6RI7XLYCOQ5uzjkdzWmzJRVIrUL7bbQf",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "Fail",
          "scope": "output",
          "name": "Atomics WF Execution Using ModuleTarget Test Status",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02J6RHFF0E8TH4Q6t1kyms5zu9HPX7R5TlS",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "input",
          "name": "Provide Module Instance ID for Cisco Meraki",
          "type": "datatype.string",
          "is_required": true,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02J6S7S3CTNBE4AVogPMqnjBlj9lyIA7XFc",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "input",
          "name": "Enter the Target ID for Cisco Meraki Cloud Based",
          "type": "datatype.string",
          "is_required": true,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02J6OEEROF5KO4pMvZ8PVApons8pOewudSV",
        "object_type": "variable_workflow"
      }
    ],
    "properties": {
      "atomic": {
        "is_atomic": false
      },
      "delete_workflow_instance": false,
      "display_name": "XDR-Cisco Meraki Automation (Cloud Based-632 Release)",
      "runtime_user": {
        "target_default": true
      },
      "target": {
        "target_type": "web-service.endpoint",
        "target_id": "$module_target;Cisco XDR;securex:ao:sxo;automation-apis$",
        "execute_on_workflow_target": true
      }
    },
    "object_type": "definition_workflow",
    "actions": [
      {
        "unique_name": "definition_activity_02J6RJO4HNB6C2C6TJZDOhHTUVl33q37kqM",
        "name": "HTTP Request",
        "title": "GET Target By ID ",
        "type": "web-service.http_request",
        "base_type": "activity",
        "properties": {
          "action_timeout": 180,
          "allow_auto_redirect": true,
          "allow_headers_redirect": false,
          "continue_on_error_status_code": false,
          "continue_on_failure": true,
          "display_name": "GET Target By ID ",
          "method": "GET",
          "relative_url": "/api/v1/targets/$workflow.definition_workflow_02J6OE0K3ZO7W7JPIOom3mqCrwRWer9mMQE.input.variable_workflow_02J6OEEROF5KO4pMvZ8PVApons8pOewudSV$",
          "runtime_user": {
            "target_default": true
          },
          "skip_execution": false,
          "target": {
            "use_workflow_target": true
          }
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02J6RNIL7DEKG5RRVRj4uNHoefpAAcEbZLZ",
        "name": "JSONPath Query",
        "title": "Fetch Target Details",
        "type": "corejava.jsonpathquery",
        "base_type": "activity",
        "properties": {
          "action_timeout": 180,
          "continue_on_failure": true,
          "display_name": "Fetch Target Details",
          "input_json": "$activity.definition_activity_02J6RJO4HNB6C2C6TJZDOhHTUVl33q37kqM.output.response_body$",
          "jsonpath_queries": [
            {
              "jsonpath_query": "$.status.state",
              "jsonpath_query_name": "Target_Status",
              "jsonpath_query_type": "string",
              "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
            },
            {
              "jsonpath_query": "$.metadata.sx_module_info.module_type",
              "jsonpath_query_name": "Module_Type",
              "jsonpath_query_type": "string",
              "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
            },
            {
              "jsonpath_query": "$.metadata.sx_module_info.integrated_module",
              "jsonpath_query_name": "integrated_module_Status",
              "jsonpath_query_type": "string",
              "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
            },
            {
              "jsonpath_query": "$.metadata.sx_module_info.api_name",
              "jsonpath_query_name": "Module_API_Name",
              "jsonpath_query_type": "string",
              "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
            },
            {
              "jsonpath_query": "$.metadata.sx_module_info.module_instance_id",
              "jsonpath_query_name": "module_instance_id",
              "jsonpath_query_type": "string",
              "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
            },
            {
              "jsonpath_query": "$.metadata.sx_module_info.external_id",
              "jsonpath_query_name": "Moudle_external_id",
              "jsonpath_query_type": "string",
              "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
            }
          ],
          "skip_execution": false
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02J6RR3NO6RUQ0GvW3h8BPTe6DotVeN1R4P",
        "name": "Condition Block",
        "title": "Verify Target Validaty ",
        "type": "logic.if_else",
        "base_type": "activity",
        "properties": {
          "conditions": [],
          "continue_on_failure": true,
          "display_name": "Verify Target Validaty ",
          "skip_execution": false
        },
        "object_type": "definition_activity",
        "blocks": [
          {
            "unique_name": "definition_activity_02J6RR3NWEQED6GroRxjCO7K1e145kr5ItQ",
            "name": "Condition Branch",
            "title": "Target is Valid and Continue using for WF Execution",
            "type": "logic.condition_block",
            "base_type": "activity",
            "properties": {
              "condition": {
                "left_operand": {
                  "left_operand": {
                    "left_operand": {
                      "left_operand": {
                        "left_operand": {
                          "left_operand": {
                            "left_operand": "$activity.definition_activity_02J6RJO4HNB6C2C6TJZDOhHTUVl33q37kqM.output.error.code$",
                            "operator": "eq",
                            "right_operand": "200"
                          },
                          "operator": "and",
                          "right_operand": {
                            "left_operand": "$activity.definition_activity_02J6RNIL7DEKG5RRVRj4uNHoefpAAcEbZLZ.output.jsonpath_queries.Module_API_Name$",
                            "operator": "eq",
                            "right_operand": "Cisco Meraki API"
                          }
                        },
                        "operator": "and",
                        "right_operand": {
                          "left_operand": "$activity.definition_activity_02J6RNIL7DEKG5RRVRj4uNHoefpAAcEbZLZ.output.jsonpath_queries.Module_Type$",
                          "operator": "eq",
                          "right_operand": "Cisco Meraki"
                        }
                      },
                      "operator": "and",
                      "right_operand": {
                        "left_operand": "$activity.definition_activity_02J6RNIL7DEKG5RRVRj4uNHoefpAAcEbZLZ.output.jsonpath_queries.Moudle_external_id$",
                        "operator": "eq",
                        "right_operand": "securex:ao:meraki"
                      }
                    },
                    "operator": "and",
                    "right_operand": {
                      "left_operand": "$activity.definition_activity_02J6RNIL7DEKG5RRVRj4uNHoefpAAcEbZLZ.output.jsonpath_queries.Target_Status$",
                      "operator": "eq",
                      "right_operand": "valid"
                    }
                  },
                  "operator": "and",
                  "right_operand": {
                    "left_operand": "$activity.definition_activity_02J6RNIL7DEKG5RRVRj4uNHoefpAAcEbZLZ.output.jsonpath_queries.integrated_module_Status$",
                    "operator": "eq",
                    "right_operand": "true"
                  }
                },
                "operator": "and",
                "right_operand": {
                  "left_operand": "$workflow.definition_workflow_02J6OE0K3ZO7W7JPIOom3mqCrwRWer9mMQE.input.variable_workflow_02J6S7S3CTNBE4AVogPMqnjBlj9lyIA7XFc$",
                  "operator": "eq",
                  "right_operand": "$activity.definition_activity_02J6RNIL7DEKG5RRVRj4uNHoefpAAcEbZLZ.output.jsonpath_queries.module_instance_id$"
                }
              },
              "continue_on_failure": false,
              "display_name": "Target is Valid and Continue using for WF Execution",
              "skip_execution": false
            },
            "object_type": "definition_activity",
            "actions": [
              {
                "unique_name": "definition_activity_02J6OGVMICLCZ72kKVvJirbbOewHC661d9l",
                "name": "HTTP Request",
                "title": "Search Meraki Atomics",
                "type": "web-service.http_request",
                "base_type": "activity",
                "properties": {
                  "action_timeout": 180,
                  "allow_auto_redirect": true,
                  "allow_headers_redirect": false,
                  "continue_on_error_status_code": false,
                  "continue_on_failure": false,
                  "display_name": "Search Meraki Atomics",
                  "method": "POST",
                  "relative_url": "/api/v1.1/workflows?start=0\u0026limit=48\u0026sort_by=updated_on\u0026search=$workflow.definition_workflow_02J6OE0K3ZO7W7JPIOom3mqCrwRWer9mMQE.local.variable_workflow_02J6OIY7IFQ9P0QBihsPW1InhTHfxTRbhPx$\u0026is_atomic=true",
                  "runtime_user": {
                    "target_default": true
                  },
                  "skip_execution": false,
                  "target": {
                    "use_workflow_target": true
                  }
                },
                "object_type": "definition_activity"
              },
              {
                "unique_name": "definition_activity_02J6OHKZDUDDF43nPJtn8nMRzqi7v3McRHU",
                "name": "JSONPath Query",
                "title": "Fetch Atomic Workflow ID",
                "type": "corejava.jsonpathquery",
                "base_type": "activity",
                "properties": {
                  "action_timeout": 180,
                  "continue_on_failure": false,
                  "display_name": "Fetch Atomic Workflow ID",
                  "input_json": "$activity.definition_activity_02J6OGVMICLCZ72kKVvJirbbOewHC661d9l.output.response_body$",
                  "jsonpath_queries": [
                    {
                      "jsonpath_query": "$.results[?(@.name=='$workflow.definition_workflow_02J6OE0K3ZO7W7JPIOom3mqCrwRWer9mMQE.local.variable_workflow_02J6OIY7IFQ9P0QBihsPW1InhTHfxTRbhPx$')].id",
                      "jsonpath_query_name": "Meraki_Atomic_WF_ID",
                      "jsonpath_query_type": "string",
                      "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
                    },
                    {
                      "jsonpath_query": "$.results[?(@.name=='$workflow.definition_workflow_02J6OE0K3ZO7W7JPIOom3mqCrwRWer9mMQE.local.variable_workflow_02J6OIY7IFQ9P0QBihsPW1InhTHfxTRbhPx$')].unique_name",
                      "jsonpath_query_name": "Meraki_Atomic_WF_unique_name",
                      "jsonpath_query_type": "string"
                    }
                  ],
                  "skip_execution": false
                },
                "object_type": "definition_activity"
              },
              {
                "unique_name": "definition_activity_02J6RCI1AN26Z4j4HrRoRPA0FbzK9VgowQQ",
                "name": "Group",
                "title": "Run Atomic WF and Fetch instance Status",
                "type": "logic.group",
                "base_type": "activity",
                "properties": {
                  "continue_on_failure": false,
                  "display_name": "Run Atomic WF and Fetch instance Status",
                  "skip_execution": false
                },
                "object_type": "definition_activity",
                "actions": [
                  {
                    "unique_name": "definition_activity_02J6QGUSEA2TK4i9smrfJVDy1LRxFSb9Pdm",
                    "name": "Upload File",
                    "title": "Run Atomic WF",
                    "type": "email.upload_file",
                    "base_type": "activity",
                    "properties": {
                      "action_timeout": 180,
                      "continue_on_failure": false,
                      "display_name": "Run Atomic WF",
                      "http_request": {
                        "allow_auto_redirect": true,
                        "allow_headers_redirect": false,
                        "body_data": {
                          "body_type": "form-data",
                          "form_data": [
                            {
                              "key": "request_body",
                              "key_type": "text",
                              "value": "{\"target_id\":\"$workflow.definition_workflow_02J6OE0K3ZO7W7JPIOom3mqCrwRWer9mMQE.input.variable_workflow_02J6OEEROF5KO4pMvZ8PVApons8pOewudSV$\"}"
                            }
                          ]
                        },
                        "continue_on_error_status_code": false,
                        "method": "POST",
                        "relative_url": "/api/v1.1/workflows/ui/start?workflow_id=$activity.definition_activity_02J6OHKZDUDDF43nPJtn8nMRzqi7v3McRHU.output.jsonpath_queries.Meraki_Atomic_WF_ID$"
                      },
                      "runtime_user": {
                        "target_default": true
                      },
                      "skip_execution": false,
                      "target": {
                        "use_workflow_target": true
                      },
                      "target_type": "web-service.endpoint"
                    },
                    "object_type": "definition_activity"
                  },
                  {
                    "unique_name": "definition_activity_02J6R15X4QOGO76KcjFvNNyYooFecShQVOR",
                    "name": "Sleep",
                    "title": "Sleep for 10s",
                    "type": "core.sleep",
                    "base_type": "activity",
                    "properties": {
                      "continue_on_failure": false,
                      "display_name": "Sleep for 10s",
                      "skip_execution": false,
                      "sleep_interval": 10
                    },
                    "object_type": "definition_activity"
                  },
                  {
                    "unique_name": "definition_activity_02J6QIW7B9SIO2GjyM3jGAYPo3hyg1sUPCo",
                    "name": "JSONPath Query",
                    "title": "Fetch the Response Body",
                    "type": "corejava.jsonpathquery",
                    "base_type": "activity",
                    "properties": {
                      "action_timeout": 180,
                      "continue_on_failure": false,
                      "display_name": "Fetch the Response Body",
                      "input_json": "$activity.definition_activity_02J6QGUSEA2TK4i9smrfJVDy1LRxFSb9Pdm.output.response_body$",
                      "jsonpath_queries": [
                        {
                          "jsonpath_query": "$.response_body",
                          "jsonpath_query_name": "Run_Instance_ResponseBody",
                          "jsonpath_query_type": "string",
                          "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
                        },
                        {
                          "jsonpath_query": "status_code",
                          "jsonpath_query_name": "wf_instance_status_code",
                          "jsonpath_query_type": "string",
                          "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
                        },
                        {
                          "jsonpath_query": "status_text",
                          "jsonpath_query_name": "wf_instance_status_text",
                          "jsonpath_query_type": "string"
                        }
                      ],
                      "skip_execution": false
                    },
                    "object_type": "definition_activity"
                  },
                  {
                    "unique_name": "definition_activity_02J6QZG8475YV2N0k1jUI4oSOEiHtKVMY42",
                    "name": "Substring",
                    "title": "Extract Instance ID",
                    "type": "core.substring",
                    "base_type": "activity",
                    "properties": {
                      "action_timeout": 180,
                      "begin": 11,
                      "continue_on_failure": false,
                      "display_name": "Extract Instance ID",
                      "end": 46,
                      "skip_execution": false,
                      "source": "$activity.definition_activity_02J6QIW7B9SIO2GjyM3jGAYPo3hyg1sUPCo.output.jsonpath_queries.Run_Instance_ResponseBody$"
                    },
                    "object_type": "definition_activity"
                  },
                  {
                    "unique_name": "definition_activity_02J6R1E5RICEJ3qj64L3bi5wR4jGxXEui3a",
                    "name": "HTTP Request",
                    "title": "Get Instance By Instance ID ",
                    "type": "web-service.http_request",
                    "base_type": "activity",
                    "properties": {
                      "action_timeout": 180,
                      "allow_auto_redirect": true,
                      "allow_headers_redirect": false,
                      "continue_on_error_status_code": false,
                      "continue_on_failure": false,
                      "display_name": "Get Instance By Instance ID ",
                      "method": "GET",
                      "relative_url": "api/v1/instances/$activity.definition_activity_02J6QZG8475YV2N0k1jUI4oSOEiHtKVMY42.output.substring$?detailed=true",
                      "runtime_user": {
                        "target_default": true
                      },
                      "skip_execution": false,
                      "target": {
                        "use_workflow_target": true
                      }
                    },
                    "object_type": "definition_activity"
                  },
                  {
                    "unique_name": "definition_activity_02J6R3MOFZ8V83Hn4eyAKps6vUYwT03yb15",
                    "name": "JSONPath Query",
                    "title": "Fetch the Instance Status",
                    "type": "corejava.jsonpathquery",
                    "base_type": "activity",
                    "properties": {
                      "action_timeout": 180,
                      "continue_on_failure": false,
                      "display_name": "Fetch the Instance Status",
                      "input_json": "$activity.definition_activity_02J6R1E5RICEJ3qj64L3bi5wR4jGxXEui3a.output.response_body$",
                      "jsonpath_queries": [
                        {
                          "jsonpath_query": "$.status.state",
                          "jsonpath_query_name": "Instance_Status",
                          "jsonpath_query_type": "string"
                        }
                      ],
                      "skip_execution": false
                    },
                    "object_type": "definition_activity"
                  },
                  {
                    "unique_name": "definition_activity_02J6R6LWT27CX54zZjT8yQSUW6JlWRf553e",
                    "name": "HTTP Request",
                    "title": "Delete Instance",
                    "type": "web-service.http_request",
                    "base_type": "activity",
                    "properties": {
                      "action_timeout": 180,
                      "allow_auto_redirect": true,
                      "allow_headers_redirect": false,
                      "continue_on_error_status_code": false,
                      "continue_on_failure": false,
                      "display_name": "Delete Instance",
                      "method": "DELETE",
                      "relative_url": "api/v1/instances/$activity.definition_activity_02J6QZG8475YV2N0k1jUI4oSOEiHtKVMY42.output.substring$",
                      "runtime_user": {
                        "target_default": true
                      },
                      "skip_execution": false,
                      "target": {
                        "use_workflow_target": true
                      }
                    },
                    "object_type": "definition_activity"
                  }
                ]
              },
              {
                "unique_name": "definition_activity_02J6RVLJEX8X67ZnalDZ23FMjGiK0cEzIbm",
                "name": "Condition Block",
                "title": "Verify Atomic Run WF Tests",
                "type": "logic.if_else",
                "base_type": "activity",
                "properties": {
                  "conditions": [],
                  "continue_on_failure": false,
                  "display_name": "Verify Atomic Run WF Tests",
                  "skip_execution": false
                },
                "object_type": "definition_activity",
                "blocks": [
                  {
                    "unique_name": "definition_activity_02J6RVLJQ8D0D6hFzIKdSpGYlL9YzRGkQBe",
                    "name": "Condition Branch",
                    "title": "Enter the Block if all cases are Passed or skip and mark as Fail",
                    "type": "logic.condition_block",
                    "base_type": "activity",
                    "properties": {
                      "condition": {
                        "left_operand": {
                          "left_operand": {
                            "left_operand": {
                              "left_operand": {
                                "left_operand": "$activity.definition_activity_02J6OGVMICLCZ72kKVvJirbbOewHC661d9l.output.error.code$",
                                "operator": "eq",
                                "right_operand": "200"
                              },
                              "operator": "and",
                              "right_operand": {
                                "left_operand": "$activity.definition_activity_02J6QGUSEA2TK4i9smrfJVDy1LRxFSb9Pdm.output.error.code$",
                                "operator": "eq",
                                "right_operand": "200"
                              }
                            },
                            "operator": "and",
                            "right_operand": {
                              "left_operand": "$activity.definition_activity_02J6R1E5RICEJ3qj64L3bi5wR4jGxXEui3a.output.error.code$",
                              "operator": "eq",
                              "right_operand": "200"
                            }
                          },
                          "operator": "and",
                          "right_operand": {
                            "left_operand": "$activity.definition_activity_02J6R3MOFZ8V83Hn4eyAKps6vUYwT03yb15.output.jsonpath_queries.Instance_Status$",
                            "operator": "eq",
                            "right_operand": "success"
                          }
                        },
                        "operator": "and",
                        "right_operand": {
                          "left_operand": "$activity.definition_activity_02J6R6LWT27CX54zZjT8yQSUW6JlWRf553e.output.error.code$",
                          "operator": "eq",
                          "right_operand": "200"
                        }
                      },
                      "continue_on_failure": false,
                      "display_name": "Enter the Block if all cases are Passed or skip and mark as Fail",
                      "skip_execution": false
                    },
                    "object_type": "definition_activity",
                    "actions": [
                      {
                        "unique_name": "definition_activity_02J6RW84JT4IH2thckvDuVZx3Dh0vcODMCt",
                        "name": "Set Variables",
                        "title": "PassCase",
                        "type": "core.set_multiple_variables",
                        "base_type": "activity",
                        "properties": {
                          "continue_on_failure": false,
                          "display_name": "PassCase",
                          "skip_execution": false,
                          "variables_to_update": [
                            {
                              "variable_to_update": "$workflow.definition_workflow_02J6OE0K3ZO7W7JPIOom3mqCrwRWer9mMQE.output.variable_workflow_02J6RHFF0E8TH4Q6t1kyms5zu9HPX7R5TlS$",
                              "variable_value_new": "Pass"
                            }
                          ]
                        },
                        "object_type": "definition_activity"
                      }
                    ]
                  }
                ]
              },
              {
                "unique_name": "definition_activity_02J6R88PNR0EZ22hrxrzOBSl3xfWoSLIsiS",
                "name": "HTTP Request",
                "title": "Duplicate the Meraki Atomic WF",
                "type": "web-service.http_request",
                "base_type": "activity",
                "properties": {
                  "action_timeout": 180,
                  "allow_auto_redirect": true,
                  "allow_headers_redirect": false,
                  "continue_on_error_status_code": false,
                  "continue_on_failure": true,
                  "display_name": "Duplicate the Meraki Atomic WF",
                  "method": "POST",
                  "relative_url": "/exchange/api/v1/workflows/$activity.definition_activity_02J6OHKZDUDDF43nPJtn8nMRzqi7v3McRHU.output.jsonpath_queries.Meraki_Atomic_WF_ID$/duplicate?skip_all_subworkflows=true",
                  "runtime_user": {
                    "target_default": true
                  },
                  "skip_execution": false,
                  "target": {
                    "use_workflow_target": true
                  }
                },
                "object_type": "definition_activity"
              },
              {
                "unique_name": "definition_activity_02J6RAQGEZFHY7NOeWQ0hEyC8ErvfCqeKET",
                "name": "Sleep",
                "title": "Sleep for 10s",
                "type": "core.sleep",
                "base_type": "activity",
                "properties": {
                  "continue_on_failure": false,
                  "display_name": "Sleep for 10s",
                  "skip_execution": false,
                  "sleep_interval": 10
                },
                "object_type": "definition_activity"
              },
              {
                "unique_name": "definition_activity_02J6RA0QACAHB02laykf3r2emSRTdp47THn",
                "name": "HTTP Request",
                "title": "Search Duplicated the Meraki Atomic WF",
                "type": "web-service.http_request",
                "base_type": "activity",
                "properties": {
                  "action_timeout": 180,
                  "allow_auto_redirect": true,
                  "allow_headers_redirect": false,
                  "continue_on_error_status_code": false,
                  "continue_on_failure": true,
                  "display_name": "Search Duplicated the Meraki Atomic WF",
                  "method": "POST",
                  "relative_url": "/api/v1.1/workflows?is_atomic=true\u0026start=0\u0026limit=48\u0026sort_by=updated_on\u0026search=Copy(1)-$workflow.definition_workflow_02J6OE0K3ZO7W7JPIOom3mqCrwRWer9mMQE.local.variable_workflow_02J6OIY7IFQ9P0QBihsPW1InhTHfxTRbhPx$",
                  "runtime_user": {
                    "target_default": true
                  },
                  "skip_execution": false,
                  "target": {
                    "use_workflow_target": true
                  }
                },
                "object_type": "definition_activity"
              },
              {
                "unique_name": "definition_activity_02J6RBDQ1DUCK6GuUJy7CHiSTSRBkwd1SQA",
                "name": "Sleep",
                "title": "Sleep for 10s",
                "type": "core.sleep",
                "base_type": "activity",
                "properties": {
                  "continue_on_failure": false,
                  "display_name": "Sleep for 10s",
                  "skip_execution": false,
                  "sleep_interval": 10
                },
                "object_type": "definition_activity"
              },
              {
                "unique_name": "definition_activity_02J6RBCGQ58M55DgoS7raoMdOgeQk6u1Ew8",
                "name": "JSONPath Query",
                "title": "Fetch Duplicated WF ID",
                "type": "corejava.jsonpathquery",
                "base_type": "activity",
                "properties": {
                  "action_timeout": 180,
                  "continue_on_failure": false,
                  "display_name": "Fetch Duplicated WF ID",
                  "input_json": "$activity.definition_activity_02J6RA0QACAHB02laykf3r2emSRTdp47THn.output.response_body$",
                  "jsonpath_queries": [
                    {
                      "jsonpath_query": "$.results..id",
                      "jsonpath_query_name": "Duplicated_WF_ID",
                      "jsonpath_query_type": "string"
                    }
                  ],
                  "skip_execution": false
                },
                "object_type": "definition_activity"
              },
              {
                "unique_name": "definition_activity_02J6RD1CQFTV37EKfDZJ1K1htWNgvjQDvqY",
                "name": "Group",
                "title": "Run Duplicated Atomic WF and Fetch instance Status",
                "type": "logic.group",
                "base_type": "activity",
                "properties": {
                  "continue_on_failure": false,
                  "display_name": "Run Duplicated Atomic WF and Fetch instance Status",
                  "skip_execution": false
                },
                "object_type": "definition_activity",
                "actions": [
                  {
                    "unique_name": "definition_activity_02J6RD1CQK4P27XK521SIkRM0UFqJRBybbb",
                    "name": "Upload File",
                    "title": "Run Duplicated Atomic WF",
                    "type": "email.upload_file",
                    "base_type": "activity",
                    "properties": {
                      "action_timeout": 180,
                      "continue_on_failure": false,
                      "display_name": "Run Duplicated Atomic WF",
                      "http_request": {
                        "allow_auto_redirect": true,
                        "allow_headers_redirect": false,
                        "body_data": {
                          "body_type": "form-data",
                          "form_data": [
                            {
                              "key": "request_body",
                              "key_type": "text",
                              "value": "{\"target_id\":\"$workflow.definition_workflow_02J6OE0K3ZO7W7JPIOom3mqCrwRWer9mMQE.input.variable_workflow_02J6OEEROF5KO4pMvZ8PVApons8pOewudSV$\"}"
                            }
                          ]
                        },
                        "continue_on_error_status_code": false,
                        "method": "POST",
                        "relative_url": "/api/v1.1/workflows/ui/start?workflow_id=$activity.definition_activity_02J6RBCGQ58M55DgoS7raoMdOgeQk6u1Ew8.output.jsonpath_queries.Duplicated_WF_ID$"
                      },
                      "runtime_user": {
                        "target_default": true
                      },
                      "skip_execution": false,
                      "target": {
                        "use_workflow_target": true
                      },
                      "target_type": "web-service.endpoint"
                    },
                    "object_type": "definition_activity"
                  },
                  {
                    "unique_name": "definition_activity_02J6RD1CQKULI1jEuln2VmoOdHchnYa2RUf",
                    "name": "Sleep",
                    "title": "Sleep for 10s",
                    "type": "core.sleep",
                    "base_type": "activity",
                    "properties": {
                      "continue_on_failure": false,
                      "display_name": "Sleep for 10s",
                      "skip_execution": false,
                      "sleep_interval": 10
                    },
                    "object_type": "definition_activity"
                  },
                  {
                    "unique_name": "definition_activity_02J6RD1CQMVGE4kDiX1w4pJErvzAaPKZTpc",
                    "name": "JSONPath Query",
                    "title": "Fetch the Response Body",
                    "type": "corejava.jsonpathquery",
                    "base_type": "activity",
                    "properties": {
                      "action_timeout": 180,
                      "continue_on_failure": false,
                      "display_name": "Fetch the Response Body",
                      "input_json": "$activity.definition_activity_02J6RD1CQK4P27XK521SIkRM0UFqJRBybbb.output.response_body$",
                      "jsonpath_queries": [
                        {
                          "jsonpath_query": "$.response_body",
                          "jsonpath_query_name": "Run_Instance_ResponseBody",
                          "jsonpath_query_type": "string",
                          "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
                        },
                        {
                          "jsonpath_query": "status_code",
                          "jsonpath_query_name": "wf_instance_status_code",
                          "jsonpath_query_type": "string",
                          "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
                        },
                        {
                          "jsonpath_query": "status_text",
                          "jsonpath_query_name": "wf_instance_status_text",
                          "jsonpath_query_type": "string",
                          "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
                        }
                      ],
                      "skip_execution": false
                    },
                    "object_type": "definition_activity"
                  },
                  {
                    "unique_name": "definition_activity_02J6RD1CQQ13E0bffEimOLA1zbAuAB1yQF4",
                    "name": "Substring",
                    "title": "Extract Instance ID",
                    "type": "core.substring",
                    "base_type": "activity",
                    "properties": {
                      "action_timeout": 180,
                      "begin": 11,
                      "continue_on_failure": false,
                      "display_name": "Extract Instance ID",
                      "end": 46,
                      "skip_execution": false,
                      "source": "$activity.definition_activity_02J6RD1CQMVGE4kDiX1w4pJErvzAaPKZTpc.output.jsonpath_queries.Run_Instance_ResponseBody$"
                    },
                    "object_type": "definition_activity"
                  },
                  {
                    "unique_name": "definition_activity_02J6RD1CQQVMC5Fz4YKj3XRx1OIp9DRPPoj",
                    "name": "HTTP Request",
                    "title": "Get Instance By Instance ID ",
                    "type": "web-service.http_request",
                    "base_type": "activity",
                    "properties": {
                      "action_timeout": 180,
                      "allow_auto_redirect": true,
                      "allow_headers_redirect": false,
                      "continue_on_error_status_code": false,
                      "continue_on_failure": false,
                      "display_name": "Get Instance By Instance ID ",
                      "method": "GET",
                      "relative_url": "api/v1/instances/$activity.definition_activity_02J6RD1CQQ13E0bffEimOLA1zbAuAB1yQF4.output.substring$?detailed=true",
                      "runtime_user": {
                        "target_default": true
                      },
                      "skip_execution": false,
                      "target": {
                        "use_workflow_target": true
                      }
                    },
                    "object_type": "definition_activity"
                  },
                  {
                    "unique_name": "definition_activity_02J6RD1CQTZWH6X3LvmfwoHl7ouOmuSDkqX",
                    "name": "JSONPath Query",
                    "title": "Fetch the Instance Status",
                    "type": "corejava.jsonpathquery",
                    "base_type": "activity",
                    "properties": {
                      "action_timeout": 180,
                      "continue_on_failure": false,
                      "display_name": "Fetch the Instance Status",
                      "input_json": "$activity.definition_activity_02J6RD1CQQVMC5Fz4YKj3XRx1OIp9DRPPoj.output.response_body$",
                      "jsonpath_queries": [
                        {
                          "jsonpath_query": "$.status.state",
                          "jsonpath_query_name": "Instance_Status",
                          "jsonpath_query_type": "string"
                        }
                      ],
                      "skip_execution": false
                    },
                    "object_type": "definition_activity"
                  },
                  {
                    "unique_name": "definition_activity_02J6RD1CQUQB43FuKnCuSOibgA6rmWfUJG9",
                    "name": "HTTP Request",
                    "title": "Delete Instance",
                    "type": "web-service.http_request",
                    "base_type": "activity",
                    "properties": {
                      "action_timeout": 180,
                      "allow_auto_redirect": true,
                      "allow_headers_redirect": false,
                      "continue_on_error_status_code": false,
                      "continue_on_failure": false,
                      "display_name": "Delete Instance",
                      "method": "DELETE",
                      "relative_url": "api/v1/instances/$activity.definition_activity_02J6RD1CQQ13E0bffEimOLA1zbAuAB1yQF4.output.substring$",
                      "runtime_user": {
                        "target_default": true
                      },
                      "skip_execution": false,
                      "target": {
                        "use_workflow_target": true
                      }
                    },
                    "object_type": "definition_activity"
                  },
                  {
                    "unique_name": "definition_activity_02J6REHMAVPVX0GD6tHttiN9HzTQY2Q3ooW",
                    "name": "Sleep",
                    "title": "Sleep for 5s",
                    "type": "core.sleep",
                    "base_type": "activity",
                    "properties": {
                      "continue_on_failure": false,
                      "display_name": "Sleep for 5s",
                      "skip_execution": false,
                      "sleep_interval": 5
                    },
                    "object_type": "definition_activity"
                  },
                  {
                    "unique_name": "definition_activity_02J6RE4JDPSXC2ehabbbJgaCijGWA4laruV",
                    "name": "HTTP Request",
                    "title": "Delete Duplicated WF",
                    "type": "web-service.http_request",
                    "base_type": "activity",
                    "properties": {
                      "action_timeout": 180,
                      "allow_auto_redirect": true,
                      "allow_headers_redirect": false,
                      "continue_on_error_status_code": false,
                      "continue_on_failure": false,
                      "display_name": "Delete Duplicated WF",
                      "method": "DELETE",
                      "relative_url": "api/v1/workflows/$activity.definition_activity_02J6RBCGQ58M55DgoS7raoMdOgeQk6u1Ew8.output.jsonpath_queries.Duplicated_WF_ID$",
                      "runtime_user": {
                        "target_default": true
                      },
                      "skip_execution": false,
                      "target": {
                        "use_workflow_target": true
                      }
                    },
                    "object_type": "definition_activity"
                  }
                ]
              },
              {
                "unique_name": "definition_activity_02J6RXXKHR75969z6jg9aujMlTLh3Nu5pxh",
                "name": "Condition Block",
                "title": "Verify Duplicated Atomic Run WF Tests",
                "type": "logic.if_else",
                "base_type": "activity",
                "properties": {
                  "conditions": [],
                  "continue_on_failure": false,
                  "display_name": "Verify Duplicated Atomic Run WF Tests",
                  "skip_execution": false
                },
                "object_type": "definition_activity",
                "blocks": [
                  {
                    "unique_name": "definition_activity_02J6RXXKSYE536oBw0U5wUi6XixO3BG3lCT",
                    "name": "Condition Branch",
                    "title": "Enter the Block if all cases are Passed or skip and mark as Fail",
                    "type": "logic.condition_block",
                    "base_type": "activity",
                    "properties": {
                      "condition": {
                        "left_operand": {
                          "left_operand": {
                            "left_operand": {
                              "left_operand": {
                                "left_operand": {
                                  "left_operand": {
                                    "left_operand": "$activity.definition_activity_02J6R88PNR0EZ22hrxrzOBSl3xfWoSLIsiS.output.error.code$",
                                    "operator": "eq",
                                    "right_operand": "200"
                                  },
                                  "operator": "and",
                                  "right_operand": {
                                    "left_operand": "$activity.definition_activity_02J6RA0QACAHB02laykf3r2emSRTdp47THn.output.error.code$",
                                    "operator": "eq",
                                    "right_operand": "200"
                                  }
                                },
                                "operator": "and",
                                "right_operand": {
                                  "left_operand": "$activity.definition_activity_02J6RD1CQK4P27XK521SIkRM0UFqJRBybbb.output.error.code$",
                                  "operator": "eq",
                                  "right_operand": "200"
                                }
                              },
                              "operator": "and",
                              "right_operand": {
                                "left_operand": "$activity.definition_activity_02J6RD1CQQVMC5Fz4YKj3XRx1OIp9DRPPoj.output.error.code$",
                                "operator": "eq",
                                "right_operand": "200"
                              }
                            },
                            "operator": "and",
                            "right_operand": {
                              "left_operand": "$activity.definition_activity_02J6RD1CQUQB43FuKnCuSOibgA6rmWfUJG9.output.error.code$",
                              "operator": "eq",
                              "right_operand": "200"
                            }
                          },
                          "operator": "and",
                          "right_operand": {
                            "left_operand": "$activity.definition_activity_02J6RE4JDPSXC2ehabbbJgaCijGWA4laruV.output.error.code$",
                            "operator": "eq",
                            "right_operand": "200"
                          }
                        },
                        "operator": "and",
                        "right_operand": {
                          "left_operand": "$activity.definition_activity_02J6RD1CQTZWH6X3LvmfwoHl7ouOmuSDkqX.output.jsonpath_queries.Instance_Status$",
                          "operator": "eq",
                          "right_operand": "success"
                        }
                      },
                      "continue_on_failure": false,
                      "display_name": "Enter the Block if all cases are Passed or skip and mark as Fail",
                      "skip_execution": false
                    },
                    "object_type": "definition_activity",
                    "actions": [
                      {
                        "unique_name": "definition_activity_02J6S1IROQN7U0N4a7gHbF1huv5u6LwZRVw",
                        "name": "Set Variables",
                        "title": "PassCase",
                        "type": "core.set_multiple_variables",
                        "base_type": "activity",
                        "properties": {
                          "continue_on_failure": false,
                          "display_name": "PassCase",
                          "skip_execution": false,
                          "variables_to_update": [
                            {
                              "variable_to_update": "$workflow.definition_workflow_02J6OE0K3ZO7W7JPIOom3mqCrwRWer9mMQE.output.variable_workflow_02J6RHPHSH1VD27NSzXCrwqX0YSRTk45EqM$",
                              "variable_value_new": "Pass"
                            }
                          ]
                        },
                        "object_type": "definition_activity"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "unique_name": "definition_activity_02J6RU0ZA3ONJ0suTldZnnWsieFozoWYkCP",
            "name": "Condition Branch",
            "title": "Target is Not Valid, Not found or Old Meraki and Stop",
            "type": "logic.condition_block",
            "base_type": "activity",
            "properties": {
              "condition": {
                "left_operand": {
                  "left_operand": {
                    "left_operand": {
                      "left_operand": {
                        "left_operand": {
                          "left_operand": {
                            "left_operand": "$activity.definition_activity_02J6RJO4HNB6C2C6TJZDOhHTUVl33q37kqM.output.error.code$",
                            "operator": "ne",
                            "right_operand": "200"
                          },
                          "operator": "or",
                          "right_operand": {
                            "left_operand": "$activity.definition_activity_02J6RNIL7DEKG5RRVRj4uNHoefpAAcEbZLZ.output.jsonpath_queries.Module_API_Name$",
                            "operator": "ne",
                            "right_operand": "Cisco Meraki"
                          }
                        },
                        "operator": "or",
                        "right_operand": {
                          "left_operand": "$activity.definition_activity_02J6RNIL7DEKG5RRVRj4uNHoefpAAcEbZLZ.output.jsonpath_queries.Module_Type$",
                          "operator": "ne",
                          "right_operand": "Meraki"
                        }
                      },
                      "operator": "or",
                      "right_operand": {
                        "left_operand": "$activity.definition_activity_02J6RNIL7DEKG5RRVRj4uNHoefpAAcEbZLZ.output.jsonpath_queries.Moudle_external_id$",
                        "operator": "ne",
                        "right_operand": "securex:ao:meraki"
                      }
                    },
                    "operator": "or",
                    "right_operand": {
                      "left_operand": "$activity.definition_activity_02J6RNIL7DEKG5RRVRj4uNHoefpAAcEbZLZ.output.jsonpath_queries.Target_Status$",
                      "operator": "ne",
                      "right_operand": "valid"
                    }
                  },
                  "operator": "or",
                  "right_operand": {
                    "left_operand": "$activity.definition_activity_02J6RNIL7DEKG5RRVRj4uNHoefpAAcEbZLZ.output.jsonpath_queries.integrated_module_Status$",
                    "operator": "ne",
                    "right_operand": "true"
                  }
                },
                "operator": "or",
                "right_operand": {
                  "left_operand": "$workflow.definition_workflow_02J6OE0K3ZO7W7JPIOom3mqCrwRWer9mMQE.input.variable_workflow_02J6S7S3CTNBE4AVogPMqnjBlj9lyIA7XFc$",
                  "operator": "ne",
                  "right_operand": "$activity.definition_activity_02J6RNIL7DEKG5RRVRj4uNHoefpAAcEbZLZ.output.jsonpath_queries.module_instance_id$"
                }
              },
              "continue_on_failure": false,
              "display_name": "Target is Not Valid, Not found or Old Meraki and Stop",
              "skip_execution": false
            },
            "object_type": "definition_activity",
            "actions": [
              {
                "unique_name": "definition_activity_02J6RUMEYDQY975PNdVtKfe9ou0r4Ps0Fsi",
                "name": "Completed",
                "title": "Target is Not Valid, Not found or Old Meraki and Stop",
                "type": "logic.completed",
                "base_type": "activity",
                "properties": {
                  "completion_type": "failed-completed",
                  "continue_on_failure": false,
                  "display_name": "Target is Not Valid, Not found or Old Meraki and Stop",
                  "skip_execution": false
                },
                "object_type": "definition_activity"
              }
            ]
          }
        ]
      },
      {
        "unique_name": "definition_activity_02J6S3AVBZH3H1kMVSN8yGZYn3IB17eIpxd",
        "name": "Condition Block",
        "title": "Overall TestStatus",
        "type": "logic.if_else",
        "base_type": "activity",
        "properties": {
          "conditions": [],
          "continue_on_failure": false,
          "display_name": "Overall TestStatus",
          "skip_execution": false
        },
        "object_type": "definition_activity",
        "blocks": [
          {
            "unique_name": "definition_activity_02J6S3AVM1N0A3mGKIRYbIL4KkgZ3tc6eh7",
            "name": "Condition Branch",
            "title": "PassCase",
            "type": "logic.condition_block",
            "base_type": "activity",
            "properties": {
              "condition": {
                "left_operand": {
                  "left_operand": "$workflow.definition_workflow_02J6OE0K3ZO7W7JPIOom3mqCrwRWer9mMQE.output.variable_workflow_02J6RHFF0E8TH4Q6t1kyms5zu9HPX7R5TlS$",
                  "operator": "eq",
                  "right_operand": "Pass"
                },
                "operator": "and",
                "right_operand": {
                  "left_operand": "$workflow.definition_workflow_02J6OE0K3ZO7W7JPIOom3mqCrwRWer9mMQE.output.variable_workflow_02J6RHPHSH1VD27NSzXCrwqX0YSRTk45EqM$",
                  "operator": "eq",
                  "right_operand": "Pass"
                }
              },
              "continue_on_failure": false,
              "display_name": "PassCase",
              "skip_execution": false
            },
            "object_type": "definition_activity",
            "actions": [
              {
                "unique_name": "definition_activity_02J6S3LB28DI343lVck5UA4yy7wVVA0vuq7",
                "name": "Set Variables",
                "title": "All Tests are Passed",
                "type": "core.set_multiple_variables",
                "base_type": "activity",
                "properties": {
                  "continue_on_failure": false,
                  "display_name": "All Tests are Passed",
                  "skip_execution": false,
                  "variables_to_update": [
                    {
                      "variable_to_update": "$workflow.definition_workflow_02J6OE0K3ZO7W7JPIOom3mqCrwRWer9mMQE.output.variable_workflow_02J6RI7XLYCOQ5uzjkdzWmzJRVIrUL7bbQf$",
                      "variable_value_new": "Pass"
                    }
                  ]
                },
                "object_type": "definition_activity"
              }
            ]
          },
          {
            "unique_name": "definition_activity_02J6S42XUSDUV0CljLfXpHdQa4GIxfnYMtF",
            "name": "Condition Branch",
            "title": "FailCase",
            "type": "logic.condition_block",
            "base_type": "activity",
            "properties": {
              "condition": {
                "left_operand": {
                  "left_operand": {
                    "left_operand": "$workflow.definition_workflow_02J6OE0K3ZO7W7JPIOom3mqCrwRWer9mMQE.output.variable_workflow_02J6RHFF0E8TH4Q6t1kyms5zu9HPX7R5TlS$",
                    "operator": "ne",
                    "right_operand": "Pass"
                  },
                  "operator": "or",
                  "right_operand": {
                    "left_operand": "$workflow.definition_workflow_02J6OE0K3ZO7W7JPIOom3mqCrwRWer9mMQE.output.variable_workflow_02J6RHPHSH1VD27NSzXCrwqX0YSRTk45EqM$",
                    "operator": "ne",
                    "right_operand": "Pass"
                  }
                },
                "operator": "or",
                "right_operand": {
                  "left_operand": "$activity.definition_activity_02J6RJO4HNB6C2C6TJZDOhHTUVl33q37kqM.output.error.code$",
                  "operator": "ne",
                  "right_operand": "200"
                }
              },
              "continue_on_failure": false,
              "display_name": "FailCase",
              "skip_execution": false
            },
            "object_type": "definition_activity",
            "actions": [
              {
                "unique_name": "definition_activity_02J6S42XUUJ5921l4BpaqlHuBsVAAKIeSmZ",
                "name": "Set Variables",
                "title": "Tests are Failed",
                "type": "core.set_multiple_variables",
                "base_type": "activity",
                "properties": {
                  "continue_on_failure": false,
                  "display_name": "Tests are Failed",
                  "skip_execution": false,
                  "variables_to_update": [
                    {
                      "variable_to_update": "$workflow.definition_workflow_02J6OE0K3ZO7W7JPIOom3mqCrwRWer9mMQE.output.variable_workflow_02J6RI7XLYCOQ5uzjkdzWmzJRVIrUL7bbQf$",
                      "variable_value_new": "Fail"
                    }
                  ]
                },
                "object_type": "definition_activity"
              },
              {
                "unique_name": "definition_activity_02J6S4J59SM6Y3qN6Py3MCNzLd1duCnIs2G",
                "name": "Completed",
                "title": "Mark as Failed",
                "type": "logic.completed",
                "base_type": "activity",
                "properties": {
                  "completion_type": "failed-completed",
                  "continue_on_failure": false,
                  "display_name": "Mark as Failed",
                  "result_message": "Failed",
                  "skip_execution": false
                },
                "object_type": "definition_activity"
              }
            ]
          }
        ]
      }
    ],
    "categories": [
      "category_1BMfMXSnJMyt5Ihqi7rWJr5N8cf"
    ]
  },
  "module_targets": [
    {
      "module_type": "Cisco XDR",
      "external_id": "securex:ao:sxo",
      "proxy_endpoint_metadata_id": "automation-apis"
    }
  ]
}