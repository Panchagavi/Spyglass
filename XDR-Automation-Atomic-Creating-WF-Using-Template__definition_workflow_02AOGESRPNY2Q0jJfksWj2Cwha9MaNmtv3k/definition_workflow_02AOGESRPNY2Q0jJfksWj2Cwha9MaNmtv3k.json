{
  "workflow": {
    "unique_name": "definition_workflow_02AOGESRPNY2Q0jJfksWj2Cwha9MaNmtv3k",
    "name": "XDR-Automation-Atomic-Creating WF Using Template",
    "title": "XDR-Automation-Atomic-Creating WF Using Template",
    "type": "generic.workflow",
    "base_type": "workflow",
    "variables": [
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "Bearer ",
          "scope": "input",
          "name": "Token With Bearer",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false
        },
        "unique_name": "variable_workflow_02AOGHQKS7LN56QFlKiV2wbkRZSd0GFgDQH",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "\"approval_task.rule_event\",\"email.rule_event\",\"incident.rule_event\",\"schedule.rule_schedule\",\"webhook.rule_event\"",
          "scope": "input",
          "name": "Enter the Rule Type to Create WF Using Automation Rule Temp",
          "type": "datatype.string",
          "description": "Supported Types. Use comma separated values if user want to create more than one type\n\n\"approval_task.rule_event\",\n        \"email.rule_event\",\n        \"incident.rule_event\",\n        \"schedule.rule_schedule\",\n        \"webhook.rule_event\"",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false
        },
        "unique_name": "variable_workflow_02AOHOFCO0W784sXKcSgMEXqzBeSKbjdUQp",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "input",
          "name": "Enter Rule ID to Create WF with INC Rule Template",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false
        },
        "unique_name": "variable_workflow_02AOHIPFZHWUH27Q7VhueHiNVHsXRQ4p18H",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "output",
          "name": "WF_Name",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false
        },
        "unique_name": "variable_workflow_02AOGVKZ8FSJU1nlleFjwz9PI3cJQKgRNhY",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "output",
          "name": "WF_ID",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false
        },
        "unique_name": "variable_workflow_02AOGVGEQA83R0St7xjCFlLOloAHVVTwiO9",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "Enter Any of the type to Create a template based WF.\nPivotMenu\nWF_Inc\nWF_Aut_Rule",
          "scope": "input",
          "name": "WF_Template_Type",
          "type": "datatype.string",
          "description": "Enter the template type which user want to create.\nSupported types \n1.PivotMenu\n2.WF_Inc\n3.WF_Aut_Rule",
          "is_required": true,
          "display_on_wizard": false,
          "is_invisible": false
        },
        "unique_name": "variable_workflow_02AOGO15MTXWY7gRFaKV67BXJbsg2gqhlEG",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "output",
          "name": "Create_Tmeplate_based_Workflow_Test_Status",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false
        },
        "unique_name": "variable_workflow_02AOGXA7XQSF64NtRUgXzsjtkh9e76Bsarj",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "input",
          "name": "Authorization",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false
        },
        "unique_name": "variable_workflow_02AOGHGZ8XXJF6VakCwn6dN4seKUIJrF8f0",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "input",
          "name": "Enter observable types to Create WF with PivotMenu Template",
          "type": "datatype.string",
          "description": "Enter observable types. comma separated if observable type are more than one. below is syntax\n\"email\",\"hostname\",\"ip\",\"ipv6\"",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false
        },
        "unique_name": "variable_workflow_02AOGV0KB4F0Y45c4CJjE27IPMfBC8D2abG",
        "object_type": "variable_workflow"
      }
    ],
    "properties": {
      "atomic": {
        "atomic_group": "Atomic",
        "is_atomic": true
      },
      "delete_workflow_instance": false,
      "description": "XDR-Automation-Atomic-Creating WF Using Template",
      "display_name": "XDR-Automation-Atomic-Creating WF Using Template",
      "runtime_user": {
        "target_default": true
      },
      "target": {
        "target_type": "web-service.endpoint",
        "specify_on_workflow_start": true
      }
    },
    "object_type": "definition_workflow",
    "actions": [
      {
        "unique_name": "definition_activity_02AOGFBBSPX656Upt04JHV9Dm2ilSykdqxy",
        "name": "HTTP Request",
        "title": "Get Schema for Workflow_Template_Type",
        "type": "web-service.http_request",
        "base_type": "activity",
        "properties": {
          "action_timeout": 180,
          "allow_auto_redirect": true,
          "allow_headers_redirect": false,
          "content_type": "application/json",
          "continue_on_error_status_code": false,
          "continue_on_failure": true,
          "custom_headers": [
            {
              "name": "$workflow.definition_workflow_02AOGESRPNY2Q0jJfksWj2Cwha9MaNmtv3k.input.variable_workflow_02AOGHGZ8XXJF6VakCwn6dN4seKUIJrF8f0$",
              "value": "$workflow.definition_workflow_02AOGESRPNY2Q0jJfksWj2Cwha9MaNmtv3k.input.variable_workflow_02AOGHQKS7LN56QFlKiV2wbkRZSd0GFgDQH$"
            }
          ],
          "display_name": "Get Schema for Workflow_Template_Type",
          "method": "GET",
          "relative_url": "api/v1/schemas?schema_type=view\u0026base_type=template_workflow",
          "runtime_user": {
            "target_default": true
          },
          "skip_execution": false,
          "target": {
            "use_workflow_target": true
          }
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02AOGJ5OMTV736Tg7s0M9yTtl3EU2vr3U3I",
        "name": "JSONPath Query",
        "title": "Fetch Template Type",
        "type": "corejava.jsonpathquery",
        "base_type": "activity",
        "properties": {
          "action_timeout": 180,
          "continue_on_failure": false,
          "display_name": "Fetch Template Type",
          "input_json": "$activity.definition_activity_02AOGFBBSPX656Upt04JHV9Dm2ilSykdqxy.output.response_body$",
          "jsonpath_queries": [
            {
              "jsonpath_query": "$[?(@.name=='Pivot Menu Workflow')].type",
              "jsonpath_query_name": "WF_PivotMenu_Template",
              "jsonpath_query_type": "string",
              "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
            },
            {
              "jsonpath_query": "$[?(@.name=='Incident Automation Rule Workflow')].type",
              "jsonpath_query_name": "WF_Incident_Template",
              "jsonpath_query_type": "string",
              "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
            },
            {
              "jsonpath_query": "$[?(@.name=='Workflow with Automation Rule')].type",
              "jsonpath_query_name": "WF_Aut_Rule_Template",
              "jsonpath_query_type": "string"
            }
          ],
          "skip_execution": false
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02AOGLLEDRWDC2Ktd9fVlxhmaSZbLgtNXSH",
        "name": "Condition Block",
        "title": "Create a WF based on Template Type",
        "type": "logic.if_else",
        "base_type": "activity",
        "properties": {
          "continue_on_failure": false,
          "display_name": "Create a WF based on Template Type",
          "skip_execution": false
        },
        "object_type": "definition_activity",
        "blocks": [
          {
            "unique_name": "definition_activity_02AOGLLEMAP7Y2Q9o3TaN6opvs9CmdcTnH4",
            "name": "Condition Branch",
            "title": "Create Pivot_Menu WF",
            "type": "logic.condition_block",
            "base_type": "activity",
            "properties": {
              "condition": {
                "left_operand": "$workflow.definition_workflow_02AOGESRPNY2Q0jJfksWj2Cwha9MaNmtv3k.input.variable_workflow_02AOGO15MTXWY7gRFaKV67BXJbsg2gqhlEG$",
                "operator": "eq",
                "right_operand": "PivotMenu"
              },
              "continue_on_failure": false,
              "display_name": "Create Pivot_Menu WF",
              "skip_execution": false
            },
            "object_type": "definition_activity",
            "actions": [
              {
                "unique_name": "definition_activity_02AOGQVDPAWWL28T2vKW5gQrL3ENjERNuzs",
                "name": "HTTP Request",
                "title": "Create a Workflow",
                "type": "web-service.http_request",
                "base_type": "activity",
                "properties": {
                  "action_timeout": 180,
                  "allow_auto_redirect": true,
                  "allow_headers_redirect": false,
                  "body": "{\n  \"type\": \"$activity.definition_activity_02AOGJ5OMTV736Tg7s0M9yTtl3EU2vr3U3I.output.jsonpath_queries.WF_PivotMenu_Template$\",\n  \"base_type\": \"template_workflow\",\n  \"properties\": {\n    \"workflow\": {\n      \"display_name\": \"WF-PivotMenu-$workflow.definition_workflow_02AOGESRPNY2Q0jJfksWj2Cwha9MaNmtv3k.output.instance_id$\",\n      \"wf_metadata\": {\n        \"coa\": {\n          \"observable_types\": [\n            $workflow.definition_workflow_02AOGESRPNY2Q0jJfksWj2Cwha9MaNmtv3k.input.variable_workflow_02AOGV0KB4F0Y45c4CJjE27IPMfBC8D2abG$  \n          ]\n        }\n      }\n    }\n  }\n}",
                  "content_type": "application/json",
                  "continue_on_error_status_code": false,
                  "continue_on_failure": true,
                  "custom_headers": [
                    {
                      "name": "$workflow.definition_workflow_02AOGESRPNY2Q0jJfksWj2Cwha9MaNmtv3k.input.variable_workflow_02AOGHGZ8XXJF6VakCwn6dN4seKUIJrF8f0$",
                      "value": "$workflow.definition_workflow_02AOGESRPNY2Q0jJfksWj2Cwha9MaNmtv3k.input.variable_workflow_02AOGHQKS7LN56QFlKiV2wbkRZSd0GFgDQH$"
                    }
                  ],
                  "display_name": "Create a Workflow",
                  "method": "POST",
                  "relative_url": "api/v2/workflows",
                  "runtime_user": {
                    "target_default": true
                  },
                  "skip_execution": false,
                  "target": {
                    "use_workflow_target": true
                  }
                },
                "object_type": "definition_activity"
              },
              {
                "unique_name": "definition_activity_02AOGVP7I82X4221HLj9d1weVTxdJxZCCiC",
                "name": "JSONPath Query",
                "title": "Fetch Created WF Name and ID",
                "type": "corejava.jsonpathquery",
                "base_type": "activity",
                "properties": {
                  "action_timeout": 180,
                  "continue_on_failure": true,
                  "display_name": "Fetch Created WF Name and ID",
                  "input_json": "$activity.definition_activity_02AOGQVDPAWWL28T2vKW5gQrL3ENjERNuzs.output.response_body$",
                  "jsonpath_queries": [
                    {
                      "jsonpath_query": "$.id",
                      "jsonpath_query_name": "workflow_ID",
                      "jsonpath_query_type": "string",
                      "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
                    },
                    {
                      "jsonpath_query": "$.name",
                      "jsonpath_query_name": "workflow_name",
                      "jsonpath_query_type": "string",
                      "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
                    }
                  ],
                  "skip_execution": false
                },
                "object_type": "definition_activity"
              },
              {
                "unique_name": "definition_activity_02AOGXFEGX4PF7NY350QKexCXgvj19TdQ8p",
                "name": "Condition Block",
                "title": "Verify Creation Status",
                "type": "logic.if_else",
                "base_type": "activity",
                "properties": {
                  "continue_on_failure": true,
                  "display_name": "Verify Creation Status",
                  "skip_execution": false
                },
                "object_type": "definition_activity",
                "blocks": [
                  {
                    "unique_name": "definition_activity_02AOGXFEQF5YD02nazGci3Sf2YZRjmTnsHw",
                    "name": "Condition Branch",
                    "title": "WF Creation is Passed",
                    "type": "logic.condition_block",
                    "base_type": "activity",
                    "properties": {
                      "condition": {
                        "left_operand": {
                          "left_operand": "$activity.definition_activity_02AOGQVDPAWWL28T2vKW5gQrL3ENjERNuzs.output.error.code$",
                          "operator": "eq",
                          "right_operand": "200"
                        },
                        "operator": "and",
                        "right_operand": {
                          "left_operand": "$activity.definition_activity_02AOGVP7I82X4221HLj9d1weVTxdJxZCCiC.output.error.code$",
                          "operator": "eq",
                          "right_operand": "200"
                        }
                      },
                      "continue_on_failure": false,
                      "display_name": "WF Creation is Passed",
                      "skip_execution": false
                    },
                    "object_type": "definition_activity",
                    "actions": [
                      {
                        "unique_name": "definition_activity_02AOGY91W72QU2EogGuDVTLBdVco5EYoURb",
                        "name": "Set Variables",
                        "title": "Store Workflow ID , name and TestStatus",
                        "type": "core.set_multiple_variables",
                        "base_type": "activity",
                        "properties": {
                          "continue_on_failure": false,
                          "display_name": "Store Workflow ID , name and TestStatus",
                          "skip_execution": false,
                          "variables_to_update": [
                            {
                              "variable_to_update": "$workflow.definition_workflow_02AOGESRPNY2Q0jJfksWj2Cwha9MaNmtv3k.output.variable_workflow_02AOGVGEQA83R0St7xjCFlLOloAHVVTwiO9$",
                              "variable_value_new": "$activity.definition_activity_02AOGVP7I82X4221HLj9d1weVTxdJxZCCiC.output.jsonpath_queries.workflow_ID$"
                            },
                            {
                              "variable_to_update": "$workflow.definition_workflow_02AOGESRPNY2Q0jJfksWj2Cwha9MaNmtv3k.output.variable_workflow_02AOGVKZ8FSJU1nlleFjwz9PI3cJQKgRNhY$",
                              "variable_value_new": "$activity.definition_activity_02AOGVP7I82X4221HLj9d1weVTxdJxZCCiC.output.jsonpath_queries.workflow_name$"
                            },
                            {
                              "variable_to_update": "$workflow.definition_workflow_02AOGESRPNY2Q0jJfksWj2Cwha9MaNmtv3k.output.variable_workflow_02AOGXA7XQSF64NtRUgXzsjtkh9e76Bsarj$",
                              "variable_value_new": "Pass"
                            }
                          ]
                        },
                        "object_type": "definition_activity"
                      }
                    ]
                  },
                  {
                    "unique_name": "definition_activity_02AOGZID6CLXU4EiGfawGFatKGfzXljJX2K",
                    "name": "Condition Branch",
                    "title": "WF Creation is Failed",
                    "type": "logic.condition_block",
                    "base_type": "activity",
                    "properties": {
                      "condition": {
                        "left_operand": {
                          "left_operand": "$activity.definition_activity_02AOGQVDPAWWL28T2vKW5gQrL3ENjERNuzs.output.error.code$",
                          "operator": "ne",
                          "right_operand": "200"
                        },
                        "operator": "or",
                        "right_operand": {
                          "left_operand": "$activity.definition_activity_02AOGVP7I82X4221HLj9d1weVTxdJxZCCiC.output.error.code$",
                          "operator": "ne",
                          "right_operand": "200"
                        }
                      },
                      "continue_on_failure": false,
                      "display_name": "WF Creation is Failed",
                      "skip_execution": false
                    },
                    "object_type": "definition_activity",
                    "actions": [
                      {
                        "unique_name": "definition_activity_02AOGZID6DKZ05jSX3YjDRa9oApRdq0Rm4I",
                        "name": "Set Variables",
                        "title": "Store Workflow ID , name and TestStatus",
                        "type": "core.set_multiple_variables",
                        "base_type": "activity",
                        "properties": {
                          "continue_on_failure": false,
                          "display_name": "Store Workflow ID , name and TestStatus",
                          "skip_execution": false,
                          "variables_to_update": [
                            {
                              "variable_to_update": "$workflow.definition_workflow_02AOGESRPNY2Q0jJfksWj2Cwha9MaNmtv3k.output.variable_workflow_02AOGXA7XQSF64NtRUgXzsjtkh9e76Bsarj$",
                              "variable_value_new": "Fail"
                            }
                          ]
                        },
                        "object_type": "definition_activity"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "unique_name": "definition_activity_02AOH174M3Q2W5VZS76zfCz9NhpuOS7dhJt",
            "name": "Condition Branch",
            "title": "Create Incident Based WF",
            "type": "logic.condition_block",
            "base_type": "activity",
            "properties": {
              "condition": {
                "left_operand": "$workflow.definition_workflow_02AOGESRPNY2Q0jJfksWj2Cwha9MaNmtv3k.input.variable_workflow_02AOGO15MTXWY7gRFaKV67BXJbsg2gqhlEG$",
                "operator": "eq",
                "right_operand": "WF_Inc"
              },
              "continue_on_failure": false,
              "display_name": "Create Incident Based WF",
              "skip_execution": false
            },
            "object_type": "definition_activity",
            "actions": [
              {
                "unique_name": "definition_activity_02AOH174M561P1aAjcPkQZI60libmBiPIfg",
                "name": "HTTP Request",
                "title": "Create a Workflow",
                "type": "web-service.http_request",
                "base_type": "activity",
                "properties": {
                  "action_timeout": 180,
                  "allow_auto_redirect": true,
                  "allow_headers_redirect": false,
                  "body": "{\n  \"type\": \"$activity.definition_activity_02AOGJ5OMTV736Tg7s0M9yTtl3EU2vr3U3I.output.jsonpath_queries.WF_Incident_Template$\",\n  \"base_type\": \"template_workflow\",\n  \"properties\": {\n    \"workflow\": {\n      \"display_name\": \"WF-INCRule-$workflow.definition_workflow_02AOGESRPNY2Q0jJfksWj2Cwha9MaNmtv3k.output.instance_id$\"\n    },\n    \"rule\": {\n      \"rule_id\": \"$workflow.definition_workflow_02AOGESRPNY2Q0jJfksWj2Cwha9MaNmtv3k.input.variable_workflow_02AOHIPFZHWUH27Q7VhueHiNVHsXRQ4p18H$\"\n    }\n  }\n}",
                  "content_type": "application/json",
                  "continue_on_error_status_code": false,
                  "continue_on_failure": true,
                  "custom_headers": [
                    {
                      "name": "$workflow.definition_workflow_02AOGESRPNY2Q0jJfksWj2Cwha9MaNmtv3k.input.variable_workflow_02AOGHGZ8XXJF6VakCwn6dN4seKUIJrF8f0$",
                      "value": "$workflow.definition_workflow_02AOGESRPNY2Q0jJfksWj2Cwha9MaNmtv3k.input.variable_workflow_02AOGHQKS7LN56QFlKiV2wbkRZSd0GFgDQH$"
                    }
                  ],
                  "display_name": "Create a Workflow",
                  "method": "POST",
                  "relative_url": "api/v2/workflows",
                  "runtime_user": {
                    "target_default": true
                  },
                  "skip_execution": false,
                  "target": {
                    "use_workflow_target": true
                  }
                },
                "object_type": "definition_activity"
              },
              {
                "unique_name": "definition_activity_02AOH174M8L3C6zs2Ux7Uwgy1s9V7MdjIt1",
                "name": "JSONPath Query",
                "title": "Fetch Created WF Name and ID",
                "type": "corejava.jsonpathquery",
                "base_type": "activity",
                "properties": {
                  "action_timeout": 180,
                  "continue_on_failure": true,
                  "display_name": "Fetch Created WF Name and ID",
                  "input_json": "$activity.definition_activity_02AOH174M561P1aAjcPkQZI60libmBiPIfg.output.response_body$",
                  "jsonpath_queries": [
                    {
                      "jsonpath_query": "$.id",
                      "jsonpath_query_name": "workflow_ID",
                      "jsonpath_query_type": "string",
                      "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
                    },
                    {
                      "jsonpath_query": "$.name",
                      "jsonpath_query_name": "workflow_name",
                      "jsonpath_query_type": "string",
                      "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
                    }
                  ],
                  "skip_execution": false
                },
                "object_type": "definition_activity"
              },
              {
                "unique_name": "definition_activity_02AOH174M9AYF7I37fEMSy7jAQYbbSbXDbL",
                "name": "Condition Block",
                "title": "Verify Creation Status",
                "type": "logic.if_else",
                "base_type": "activity",
                "properties": {
                  "continue_on_failure": true,
                  "display_name": "Verify Creation Status",
                  "skip_execution": false
                },
                "object_type": "definition_activity",
                "blocks": [
                  {
                    "unique_name": "definition_activity_02AOH174MAU334AajqdRFHfDQ3JmZsS7GXA",
                    "name": "Condition Branch",
                    "title": "WF Creation is Passed",
                    "type": "logic.condition_block",
                    "base_type": "activity",
                    "properties": {
                      "condition": {
                        "left_operand": {
                          "left_operand": "$activity.definition_activity_02AOH174M561P1aAjcPkQZI60libmBiPIfg.output.error.code$",
                          "operator": "eq",
                          "right_operand": "200"
                        },
                        "operator": "and",
                        "right_operand": {
                          "left_operand": "$activity.definition_activity_02AOH174M8L3C6zs2Ux7Uwgy1s9V7MdjIt1.output.error.code$",
                          "operator": "eq",
                          "right_operand": "200"
                        }
                      },
                      "continue_on_failure": false,
                      "display_name": "WF Creation is Passed",
                      "skip_execution": false
                    },
                    "object_type": "definition_activity",
                    "actions": [
                      {
                        "unique_name": "definition_activity_02AOH174MDWHD3yK7KVNrReROCQ5JJSqgsD",
                        "name": "Set Variables",
                        "title": "Store Workflow ID , name and TestStatus",
                        "type": "core.set_multiple_variables",
                        "base_type": "activity",
                        "properties": {
                          "continue_on_failure": false,
                          "display_name": "Store Workflow ID , name and TestStatus",
                          "skip_execution": false,
                          "variables_to_update": [
                            {
                              "variable_to_update": "$workflow.definition_workflow_02AOGESRPNY2Q0jJfksWj2Cwha9MaNmtv3k.output.variable_workflow_02AOGVGEQA83R0St7xjCFlLOloAHVVTwiO9$",
                              "variable_value_new": "$activity.definition_activity_02AOH174M8L3C6zs2Ux7Uwgy1s9V7MdjIt1.output.jsonpath_queries.workflow_ID$"
                            },
                            {
                              "variable_to_update": "$workflow.definition_workflow_02AOGESRPNY2Q0jJfksWj2Cwha9MaNmtv3k.output.variable_workflow_02AOGVKZ8FSJU1nlleFjwz9PI3cJQKgRNhY$",
                              "variable_value_new": "$activity.definition_activity_02AOH174M8L3C6zs2Ux7Uwgy1s9V7MdjIt1.output.jsonpath_queries.workflow_name$"
                            },
                            {
                              "variable_to_update": "$workflow.definition_workflow_02AOGESRPNY2Q0jJfksWj2Cwha9MaNmtv3k.output.variable_workflow_02AOGXA7XQSF64NtRUgXzsjtkh9e76Bsarj$",
                              "variable_value_new": "Pass"
                            }
                          ]
                        },
                        "object_type": "definition_activity"
                      }
                    ]
                  },
                  {
                    "unique_name": "definition_activity_02AOH174MENDU3IgukRkzWRxeYcU0TndE08",
                    "name": "Condition Branch",
                    "title": "WF Creation is Failed",
                    "type": "logic.condition_block",
                    "base_type": "activity",
                    "properties": {
                      "condition": {
                        "left_operand": {
                          "left_operand": "$activity.definition_activity_02AOH174M561P1aAjcPkQZI60libmBiPIfg.output.error.code$",
                          "operator": "ne",
                          "right_operand": "200"
                        },
                        "operator": "or",
                        "right_operand": {
                          "left_operand": "$activity.definition_activity_02AOH174M8L3C6zs2Ux7Uwgy1s9V7MdjIt1.output.error.code$",
                          "operator": "ne",
                          "right_operand": "200"
                        }
                      },
                      "continue_on_failure": false,
                      "display_name": "WF Creation is Failed",
                      "skip_execution": false
                    },
                    "object_type": "definition_activity",
                    "actions": [
                      {
                        "unique_name": "definition_activity_02AOH174MHOCI3wFgZVO5SD2jfSrGCpe1Qf",
                        "name": "Set Variables",
                        "title": "Store Workflow ID , name and TestStatus",
                        "type": "core.set_multiple_variables",
                        "base_type": "activity",
                        "properties": {
                          "continue_on_failure": false,
                          "display_name": "Store Workflow ID , name and TestStatus",
                          "skip_execution": false,
                          "variables_to_update": [
                            {
                              "variable_to_update": "$workflow.definition_workflow_02AOGESRPNY2Q0jJfksWj2Cwha9MaNmtv3k.output.variable_workflow_02AOGXA7XQSF64NtRUgXzsjtkh9e76Bsarj$",
                              "variable_value_new": "Fail"
                            }
                          ]
                        },
                        "object_type": "definition_activity"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "unique_name": "definition_activity_02AOH1TC1IPNZ0xIgr57V0jArXmOVkg4FJq",
            "name": "Condition Branch",
            "title": "Create Automation Rule Based WF",
            "type": "logic.condition_block",
            "base_type": "activity",
            "properties": {
              "condition": {
                "left_operand": "$workflow.definition_workflow_02AOGESRPNY2Q0jJfksWj2Cwha9MaNmtv3k.input.variable_workflow_02AOGO15MTXWY7gRFaKV67BXJbsg2gqhlEG$",
                "operator": "eq",
                "right_operand": "WF_Aut_Rule"
              },
              "continue_on_failure": false,
              "display_name": "Create Automation Rule Based WF",
              "skip_execution": false
            },
            "object_type": "definition_activity",
            "actions": [
              {
                "unique_name": "definition_activity_02AOH1TC1JP1E7WlKUnt56cT8JoYJvENRse",
                "name": "HTTP Request",
                "title": "Create a Workflow",
                "type": "web-service.http_request",
                "base_type": "activity",
                "properties": {
                  "action_timeout": 180,
                  "allow_auto_redirect": true,
                  "allow_headers_redirect": false,
                  "body": "{\n  \"type\": \"$activity.definition_activity_02AOGJ5OMTV736Tg7s0M9yTtl3EU2vr3U3I.output.jsonpath_queries.WF_Aut_Rule_Template$\",\n  \"base_type\": \"template_workflow\",\n  \"properties\": {\n    \"workflow\": {\n      \"display_name\": \"WF_Aut_Rule-$workflow.definition_workflow_02AOGESRPNY2Q0jJfksWj2Cwha9MaNmtv3k.output.instance_id$  \"\n    },\n    \"automation_rules\": {\n      \"type\": [$workflow.definition_workflow_02AOGESRPNY2Q0jJfksWj2Cwha9MaNmtv3k.input.variable_workflow_02AOHOFCO0W784sXKcSgMEXqzBeSKbjdUQp$]\n    }\n  }\n}  ",
                  "content_type": "application/json",
                  "continue_on_error_status_code": false,
                  "continue_on_failure": true,
                  "custom_headers": [
                    {
                      "name": "$workflow.definition_workflow_02AOGESRPNY2Q0jJfksWj2Cwha9MaNmtv3k.input.variable_workflow_02AOGHGZ8XXJF6VakCwn6dN4seKUIJrF8f0$",
                      "value": "$workflow.definition_workflow_02AOGESRPNY2Q0jJfksWj2Cwha9MaNmtv3k.input.variable_workflow_02AOGHQKS7LN56QFlKiV2wbkRZSd0GFgDQH$"
                    }
                  ],
                  "display_name": "Create a Workflow",
                  "method": "POST",
                  "relative_url": "api/v2/workflows",
                  "runtime_user": {
                    "target_default": true
                  },
                  "skip_execution": false,
                  "target": {
                    "use_workflow_target": true
                  }
                },
                "object_type": "definition_activity"
              },
              {
                "unique_name": "definition_activity_02AOH1TC1MODL3EV1EeWWZyjypbuGMOOAp5",
                "name": "JSONPath Query",
                "title": "Fetch Created WF Name and ID",
                "type": "corejava.jsonpathquery",
                "base_type": "activity",
                "properties": {
                  "action_timeout": 180,
                  "continue_on_failure": true,
                  "display_name": "Fetch Created WF Name and ID",
                  "input_json": "$activity.definition_activity_02AOH1TC1JP1E7WlKUnt56cT8JoYJvENRse.output.response_body$",
                  "jsonpath_queries": [
                    {
                      "jsonpath_query": "$.id",
                      "jsonpath_query_name": "workflow_ID",
                      "jsonpath_query_type": "string",
                      "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
                    },
                    {
                      "jsonpath_query": "$.name",
                      "jsonpath_query_name": "workflow_name",
                      "jsonpath_query_type": "string",
                      "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
                    }
                  ],
                  "skip_execution": false
                },
                "object_type": "definition_activity"
              },
              {
                "unique_name": "definition_activity_02AOHPRGC9LJO5eE7Ep7fjAhkrn5BQ1oAoR",
                "name": "Sleep",
                "title": "Sleep for 5s",
                "type": "core.sleep",
                "base_type": "activity",
                "properties": {
                  "continue_on_failure": false,
                  "display_name": "Sleep for 5s",
                  "skip_execution": false,
                  "sleep_interval": 5
                },
                "object_type": "definition_activity"
              },
              {
                "unique_name": "definition_activity_02AOHQ33KKMLA6CSqpUiDgXOzRQEyN8ho7c",
                "name": "HTTP Request",
                "title": "Add Action to a Workflow",
                "type": "web-service.http_request",
                "base_type": "activity",
                "properties": {
                  "action_timeout": 180,
                  "allow_auto_redirect": true,
                  "allow_headers_redirect": false,
                  "body": "{\n  \"previous_action\": {\n    \"id\": \"$activity.definition_activity_02AOH1TC1MODL3EV1EeWWZyjypbuGMOOAp5.output.jsonpath_queries.workflow_ID$\",\n    \"type\": \"generic.workflow\",\n    \"base_type\": \"workflow\"\n  },\n  \"action\": {\n    \"type\": \"core.string2upper\",\n    \"base_type\": \"activity\",\n    \"name\": \"To Upper\",\n    \"properties\": {\n      \"continue_on_failure\": false,\n      \"skip_execution\": false,\n      \"source\": \"abc\",\n      \"display_name\": \"To Upper\"\n    },\n    \"title\": \"To Upper\"\n  }\n}",
                  "content_type": "application/json",
                  "continue_on_error_status_code": false,
                  "continue_on_failure": true,
                  "display_name": "Add Action to a Workflow",
                  "method": "POST",
                  "relative_url": "/api/v1/workflows/$activity.definition_activity_02AOH1TC1MODL3EV1EeWWZyjypbuGMOOAp5.output.jsonpath_queries.workflow_ID$/actions",
                  "runtime_user": {
                    "target_default": true
                  },
                  "skip_execution": false,
                  "target": {
                    "use_workflow_target": true
                  }
                },
                "object_type": "definition_activity"
              },
              {
                "unique_name": "definition_activity_02AOHU4L2R93X5VwE4SpyXbqLQDcwK7Xxm4",
                "name": "Sleep",
                "title": "Sleep for 5s",
                "type": "core.sleep",
                "base_type": "activity",
                "properties": {
                  "continue_on_failure": false,
                  "display_name": "Sleep for 5s",
                  "skip_execution": false,
                  "sleep_interval": 5
                },
                "object_type": "definition_activity"
              },
              {
                "unique_name": "definition_activity_02AOHTJ2AAMPP4JouUcdiPOImiT7r32XVms",
                "name": "HTTP Request",
                "title": "Validate a Workflow",
                "type": "web-service.http_request",
                "base_type": "activity",
                "properties": {
                  "action_timeout": 180,
                  "allow_auto_redirect": true,
                  "allow_headers_redirect": false,
                  "content_type": "application/json",
                  "continue_on_error_status_code": false,
                  "continue_on_failure": true,
                  "display_name": "Validate a Workflow",
                  "method": "POST",
                  "relative_url": "/api/v1/workflows/$activity.definition_activity_02AOH1TC1MODL3EV1EeWWZyjypbuGMOOAp5.output.jsonpath_queries.workflow_ID$/validate",
                  "runtime_user": {
                    "target_default": true
                  },
                  "skip_execution": false,
                  "target": {
                    "use_workflow_target": true
                  }
                },
                "object_type": "definition_activity"
              },
              {
                "unique_name": "definition_activity_02AOH1TC1NAMY0xhfiKDQa6FleUEOLC8MwY",
                "name": "Condition Block",
                "title": "Verify Creation Status",
                "type": "logic.if_else",
                "base_type": "activity",
                "properties": {
                  "continue_on_failure": true,
                  "display_name": "Verify Creation Status",
                  "skip_execution": false
                },
                "object_type": "definition_activity",
                "blocks": [
                  {
                    "unique_name": "definition_activity_02AOH1TC1OSBO6wggyciZ4bIsorA0m1pct2",
                    "name": "Condition Branch",
                    "title": "WF Creation is Passed",
                    "type": "logic.condition_block",
                    "base_type": "activity",
                    "properties": {
                      "condition": {
                        "left_operand": {
                          "left_operand": {
                            "left_operand": {
                              "left_operand": "$activity.definition_activity_02AOH1TC1JP1E7WlKUnt56cT8JoYJvENRse.output.error.code$",
                              "operator": "eq",
                              "right_operand": "200"
                            },
                            "operator": "and",
                            "right_operand": {
                              "left_operand": "$activity.definition_activity_02AOH1TC1MODL3EV1EeWWZyjypbuGMOOAp5.output.error.code$",
                              "operator": "eq",
                              "right_operand": "200"
                            }
                          },
                          "operator": "and",
                          "right_operand": {
                            "left_operand": "$activity.definition_activity_02AOHQ33KKMLA6CSqpUiDgXOzRQEyN8ho7c.output.error.code$",
                            "operator": "eq",
                            "right_operand": "200"
                          }
                        },
                        "operator": "and",
                        "right_operand": {
                          "left_operand": "$activity.definition_activity_02AOHTJ2AAMPP4JouUcdiPOImiT7r32XVms.output.error.code$",
                          "operator": "eq",
                          "right_operand": "200"
                        }
                      },
                      "continue_on_failure": false,
                      "display_name": "WF Creation is Passed",
                      "skip_execution": false
                    },
                    "object_type": "definition_activity",
                    "actions": [
                      {
                        "unique_name": "definition_activity_02AOH1TC1R4M05xQXJlZpLMJXZIxJ1fxRDe",
                        "name": "Set Variables",
                        "title": "Store Workflow ID , name and TestStatus",
                        "type": "core.set_multiple_variables",
                        "base_type": "activity",
                        "properties": {
                          "continue_on_failure": false,
                          "display_name": "Store Workflow ID , name and TestStatus",
                          "skip_execution": false,
                          "variables_to_update": [
                            {
                              "variable_to_update": "$workflow.definition_workflow_02AOGESRPNY2Q0jJfksWj2Cwha9MaNmtv3k.output.variable_workflow_02AOGVGEQA83R0St7xjCFlLOloAHVVTwiO9$",
                              "variable_value_new": "$activity.definition_activity_02AOH1TC1MODL3EV1EeWWZyjypbuGMOOAp5.output.jsonpath_queries.workflow_ID$"
                            },
                            {
                              "variable_to_update": "$workflow.definition_workflow_02AOGESRPNY2Q0jJfksWj2Cwha9MaNmtv3k.output.variable_workflow_02AOGVKZ8FSJU1nlleFjwz9PI3cJQKgRNhY$",
                              "variable_value_new": "$activity.definition_activity_02AOH1TC1MODL3EV1EeWWZyjypbuGMOOAp5.output.jsonpath_queries.workflow_name$"
                            },
                            {
                              "variable_to_update": "$workflow.definition_workflow_02AOGESRPNY2Q0jJfksWj2Cwha9MaNmtv3k.output.variable_workflow_02AOGXA7XQSF64NtRUgXzsjtkh9e76Bsarj$",
                              "variable_value_new": "Pass"
                            }
                          ]
                        },
                        "object_type": "definition_activity"
                      }
                    ]
                  },
                  {
                    "unique_name": "definition_activity_02AOH1TC1RRO514HAClZQVeqRLVdYQoN0JD",
                    "name": "Condition Branch",
                    "title": "WF Creation is Failed",
                    "type": "logic.condition_block",
                    "base_type": "activity",
                    "properties": {
                      "condition": {
                        "left_operand": {
                          "left_operand": {
                            "left_operand": {
                              "left_operand": "$activity.definition_activity_02AOH1TC1JP1E7WlKUnt56cT8JoYJvENRse.output.error.code$",
                              "operator": "ne",
                              "right_operand": "200"
                            },
                            "operator": "or",
                            "right_operand": {
                              "left_operand": "$activity.definition_activity_02AOH1TC1MODL3EV1EeWWZyjypbuGMOOAp5.output.error.code$",
                              "operator": "ne",
                              "right_operand": "200"
                            }
                          },
                          "operator": "or",
                          "right_operand": {
                            "left_operand": "$activity.definition_activity_02AOHQ33KKMLA6CSqpUiDgXOzRQEyN8ho7c.output.error.code$",
                            "operator": "ne",
                            "right_operand": "200"
                          }
                        },
                        "operator": "or",
                        "right_operand": {
                          "left_operand": "$activity.definition_activity_02AOHTJ2AAMPP4JouUcdiPOImiT7r32XVms.output.error.code$",
                          "operator": "ne",
                          "right_operand": "200"
                        }
                      },
                      "continue_on_failure": false,
                      "display_name": "WF Creation is Failed",
                      "skip_execution": false
                    },
                    "object_type": "definition_activity",
                    "actions": [
                      {
                        "unique_name": "definition_activity_02AOH1TC1T2QD2Xuulzoy9yX9AdHAT27xtw",
                        "name": "Set Variables",
                        "title": "Store Workflow ID , name and TestStatus",
                        "type": "core.set_multiple_variables",
                        "base_type": "activity",
                        "properties": {
                          "continue_on_failure": false,
                          "display_name": "Store Workflow ID , name and TestStatus",
                          "skip_execution": false,
                          "variables_to_update": [
                            {
                              "variable_to_update": "$workflow.definition_workflow_02AOGESRPNY2Q0jJfksWj2Cwha9MaNmtv3k.output.variable_workflow_02AOGXA7XQSF64NtRUgXzsjtkh9e76Bsarj$",
                              "variable_value_new": "Fail"
                            }
                          ]
                        },
                        "object_type": "definition_activity"
                      }
                    ]
                  }
                ]
              }
            ]
          }
        ]
      }
    ],
    "categories": [
      "category_1BMfMXSnJMyt5Ihqi7rWJr5N8cf"
    ]
  }
}