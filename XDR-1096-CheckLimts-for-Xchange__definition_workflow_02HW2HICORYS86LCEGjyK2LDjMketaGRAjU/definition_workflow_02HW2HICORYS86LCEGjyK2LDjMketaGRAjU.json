{
  "workflow": {
    "unique_name": "definition_workflow_02HW2HICORYS86LCEGjyK2LDjMketaGRAjU",
    "name": "XDR-1096-CheckLimts for Xchange",
    "title": "XDR-1096-CheckLimts for Xchange",
    "type": "generic.workflow",
    "base_type": "workflow",
    "variables": [
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "aCuMZywKiChi1Dz0gSd8LUl4eh8yJJNFSuAsI0NYp_1YeEXqa3GG0g",
          "scope": "local",
          "name": "TA Client Secret",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02HW2HID7IMT75T36kpHI4z0fCLmtveuD89",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "1UAVTJMeMZvP7kNBhHBm1x4CATKOf_ab81oXCXkhruCtLSSvspUiUA",
          "scope": "local",
          "name": "XM Client Secret",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02HW2HID7JEEY2WPSIztM5035RYsw67YFAN",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "local",
          "name": "Provide Token for Tenant Admin without Bearer",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02HW2HID7HL7U0aD9NlHDX1h1zByEKlfKIC",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "Fail",
          "scope": "output",
          "name": "Xchange Limit TestStatus",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02HW2HID7IBCI65VfsGGZbgq5QbmK3sUUJH",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "local",
          "name": "Provide Token for Xchange Manager without Bearer",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02HW2HID7JL0G22IhV0KHDxYyQFpwdDp8b9",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "client-e18af3ef-0522-4e93-a70f-c9bc94d964a8",
          "scope": "local",
          "name": "TA Client ID",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02HW2HID7HUAQ7MQXxX6KuEBVtEraNIAKTY",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "client-c66d8604-bbdd-4a89-af7e-08a68db8d74d",
          "scope": "local",
          "name": "XM Cleint ID",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02HW2HID7IVSY5kBD3iyi1UI8pdUxcPyBHZ",
        "object_type": "variable_workflow"
      }
    ],
    "properties": {
      "atomic": {
        "is_atomic": false
      },
      "delete_workflow_instance": false,
      "description": "Set Exchange Limit to 1",
      "display_name": "XDR-1096-CheckLimts for Xchange",
      "runtime_user": {
        "override_target_runtime_user": false,
        "specify_on_workflow_start": false,
        "target_default": true
      },
      "target": {
        "target_type": "web-service.endpoint",
        "target_id": "definition_target_02HW3UMGXAWHE6ruEGivmG0zUVblIgwoY1D",
        "execute_on_workflow_target": true
      }
    },
    "object_type": "definition_workflow",
    "actions": [
      {
        "unique_name": "definition_activity_02HW2HIHOR1QH3ZdkllToi5RJdwKqBstuqF",
        "name": "SXO-Generate Token (TA)",
        "title": "SXO-Generate Token (TA)",
        "type": "workflow.sub_workflow",
        "base_type": "subworkflow",
        "properties": {
          "continue_on_failure": false,
          "display_name": "SXO-Generate Token (TA)",
          "input": {
            "variable_workflow_02BC75FY6KJQ31bp06fvoXJ188gYh1wbUa7": "$workflow.definition_workflow_02HW2HICORYS86LCEGjyK2LDjMketaGRAjU.local.variable_workflow_02HW2HID7HUAQ7MQXxX6KuEBVtEraNIAKTY$",
            "variable_workflow_02BC8GA3DL7UT2XvjCn2jMUeOtCfsmMDZy4": "$workflow.definition_workflow_02HW2HICORYS86LCEGjyK2LDjMketaGRAjU.local.variable_workflow_02HW2HID7IMT75T36kpHI4z0fCLmtveuD89$"
          },
          "runtime_user": {
            "target_default": true
          },
          "skip_execution": false,
          "target": {
            "execute_on_this_target": true,
            "target_id": "$module_target;Cisco XDR;securex:ao:iroh_api;platform-apis$",
            "target_type": "web-service.endpoint"
          },
          "workflow_id": "definition_workflow_02BC75FXY8V6Q7fCnqF2hIiteIL3tPcTIMX",
          "workflow_name": "SXO- Create Token-Generate Token"
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02HW2HIJYJJOP7SMMKDI1eUrhV3Wz0Xfaim",
        "name": "SXO-Generate Token (XM)",
        "title": "SXO-Generate Token (XM)",
        "type": "workflow.sub_workflow",
        "base_type": "subworkflow",
        "properties": {
          "continue_on_failure": false,
          "display_name": "SXO-Generate Token (XM)",
          "input": {
            "variable_workflow_02BC75FY6KJQ31bp06fvoXJ188gYh1wbUa7": "$workflow.definition_workflow_02HW2HICORYS86LCEGjyK2LDjMketaGRAjU.local.variable_workflow_02HW2HID7IVSY5kBD3iyi1UI8pdUxcPyBHZ$",
            "variable_workflow_02BC8GA3DL7UT2XvjCn2jMUeOtCfsmMDZy4": "$workflow.definition_workflow_02HW2HICORYS86LCEGjyK2LDjMketaGRAjU.local.variable_workflow_02HW2HID7JEEY2WPSIztM5035RYsw67YFAN$"
          },
          "runtime_user": {
            "target_default": true
          },
          "skip_execution": false,
          "target": {
            "execute_on_this_target": true,
            "target_id": "$module_target;Cisco XDR;securex:ao:iroh_api;platform-apis$",
            "target_type": "web-service.endpoint"
          },
          "workflow_id": "definition_workflow_02BC75FXY8V6Q7fCnqF2hIiteIL3tPcTIMX",
          "workflow_name": "SXO- Create Token-Generate Token"
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02HW2HILTPXI27KyuhqS605Wcgocgn0BUB5",
        "name": "Set Variables",
        "title": "Store Tokens",
        "type": "core.set_multiple_variables",
        "base_type": "activity",
        "properties": {
          "continue_on_failure": false,
          "display_name": "Store Tokens",
          "skip_execution": false,
          "variables_to_update": [
            {
              "variable_to_update": "$workflow.definition_workflow_02HW2HICORYS86LCEGjyK2LDjMketaGRAjU.local.variable_workflow_02HW2HID7HL7U0aD9NlHDX1h1zByEKlfKIC$",
              "variable_value_new": "$activity.definition_activity_02HW2HIHOR1QH3ZdkllToi5RJdwKqBstuqF.output.variable_workflow_02BC75FY6K85Y7UxbMgUx2RiWsymGSVCmQm$"
            },
            {
              "variable_to_update": "$workflow.definition_workflow_02HW2HICORYS86LCEGjyK2LDjMketaGRAjU.local.variable_workflow_02HW2HID7JL0G22IhV0KHDxYyQFpwdDp8b9$",
              "variable_value_new": "$activity.definition_activity_02HW2HIJYJJOP7SMMKDI1eUrhV3Wz0Xfaim.output.variable_workflow_02BC75FY6K85Y7UxbMgUx2RiWsymGSVCmQm$"
            }
          ]
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02HW2HINAN1MG5t3j4NDZ1rSVQ5Qs6iWRt3",
        "name": "Group",
        "title": "Pre-requisite - Create a WF1",
        "type": "logic.group",
        "base_type": "activity",
        "properties": {
          "continue_on_failure": false,
          "display_name": "Pre-requisite - Create a WF1",
          "skip_execution": false
        },
        "object_type": "definition_activity",
        "actions": [
          {
            "unique_name": "definition_activity_02HW2HIPN3YCP4Nqe9XYdl4opbsvvo8inZb",
            "name": "SXO- Create Generic Workflow",
            "title": "SXO- Create Generic Workflow",
            "type": "workflow.sub_workflow",
            "base_type": "subworkflow",
            "properties": {
              "continue_on_failure": false,
              "display_name": "SXO- Create Generic Workflow",
              "input": {
                "variable_workflow_02GBQB28Y1NLE2yTSYU498oB81EucgD2liM": "Bearer $workflow.definition_workflow_02HW2HICORYS86LCEGjyK2LDjMketaGRAjU.local.variable_workflow_02HW2HID7HL7U0aD9NlHDX1h1zByEKlfKIC$",
                "variable_workflow_02GBQB28Y37KQ4mU37FbWuFjqiAbxPGE6Gu": "WF-Limit1-$workflow.definition_workflow_02HW2HICORYS86LCEGjyK2LDjMketaGRAjU.output.instance_id$"
              },
              "runtime_user": {
                "target_default": true
              },
              "skip_execution": false,
              "target": {
                "target_type": "web-service.endpoint",
                "use_workflow_target": true
              },
              "workflow_id": "definition_workflow_02GBQB28CZCLO0PJeeQjFUciEZs5LS7TypV",
              "workflow_name": "Copy(1)-SXO- Create Generic Workflow"
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02HW2HIRWHVG60X9DYhYJQUYOiBD0yWtkJS",
            "name": "Automation - AddIng an Action to the Workflow",
            "title": "Automation - AddIng an Action to the Workflow",
            "type": "workflow.atomic_workflow",
            "base_type": "subworkflow",
            "properties": {
              "continue_on_failure": false,
              "display_name": "Automation - AddIng an Action to the Workflow",
              "input": {
                "variable_workflow_01TNRGULATIS12xwBtFh5vlzkvz7165Gb4O": "{\n\"previous_action\": {\n    \"id\": \"$activity.definition_activity_02HW2HIPN3YCP4Nqe9XYdl4opbsvvo8inZb.output.variable_workflow_02GBQB28Y2PES61pXPUX1k86YtoFbnP7r11$\",\n    \"type\": \"generic.workflow\",\n    \"base_type\": \"workflow\"\n  },\n  \"action\": {\n    \"type\": \"core.sleep\",\n    \"base_type\": \"activity\",\n    \"name\": \"Sleep\",\n    \"properties\": {\n      \"continue_on_failure\": false,\n      \"skip_execution\": false,\n\"sleep_interval\":1,\n      \"display_name\": \"Sleep\"\n    },\n    \"title\": \"Sleep\"\n  }\n}",
                "variable_workflow_01TNRGULATYCS3YZOCTsAzqIqmW6pJXPjXH": "Bearer $workflow.definition_workflow_02HW2HICORYS86LCEGjyK2LDjMketaGRAjU.local.variable_workflow_02HW2HID7HL7U0aD9NlHDX1h1zByEKlfKIC$",
                "variable_workflow_01TNRGULAU5VJ5MZJeczlceLJVuSNTUGx9Y": "$activity.definition_activity_02HW2HIPN3YCP4Nqe9XYdl4opbsvvo8inZb.output.variable_workflow_02GBQB28Y2PES61pXPUX1k86YtoFbnP7r11$",
                "variable_workflow_01TNRGULAUKSY47ElJvhRkMLUfZ28jBg6Hb": "Authorization"
              },
              "runtime_user": {
                "target_default": true
              },
              "skip_execution": false,
              "target": {
                "target_type": "web-service.endpoint",
                "use_workflow_target": true
              },
              "workflow_id": "definition_workflow_01TNRGUJTQ00K5a18OTctGAj8Qtrns7cITI",
              "workflow_name": "Automation - AddIng an Action to the Workflow"
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02HW2HIUJFGU35jNfrmv2Woj5opVSoi32ZC",
            "name": "Automation - Validate Workflow",
            "title": "Automation - Validate Workflow",
            "type": "workflow.atomic_workflow",
            "base_type": "subworkflow",
            "properties": {
              "continue_on_failure": false,
              "display_name": "Automation - Validate Workflow",
              "input": {
                "variable_workflow_026R3MTZOT2EW1USQRiDliyt5aa93GWmfiK": "Authorization",
                "variable_workflow_026R3MTZOTILC1W3cvTmVhLsJWBnHC3vcH4": "Bearer $workflow.definition_workflow_02HW2HICORYS86LCEGjyK2LDjMketaGRAjU.local.variable_workflow_02HW2HID7HL7U0aD9NlHDX1h1zByEKlfKIC$",
                "variable_workflow_026R3MTZOTPNC64XRWBcpmPc5VhBJBNaxj0": "$activity.definition_activity_02HW2HIPN3YCP4Nqe9XYdl4opbsvvo8inZb.output.variable_workflow_02GBQB28Y2PES61pXPUX1k86YtoFbnP7r11$"
              },
              "runtime_user": {
                "target_default": true
              },
              "skip_execution": false,
              "target": {
                "target_type": "web-service.endpoint",
                "use_workflow_target": true
              },
              "workflow_id": "definition_workflow_026R3MTZDNXS11nSJ26lq1HDCDh5bTUboMa",
              "workflow_name": "Automation - Validate Workflow"
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02HW2HIW9V6LV42DO4jKGOXuy6RGtCeXjxx",
            "name": "Execute Python Script",
            "title": "Generate Random String",
            "type": "python3.script",
            "base_type": "activity",
            "properties": {
              "action_timeout": 180,
              "continue_on_failure": false,
              "display_name": "Generate Random String",
              "script": "import random\nimport string\n\ndef get_random_string(length):\n    # choose from all lowercase letter\n    letters = string.ascii_lowercase\n    result_str = ''.join(random.choice(letters) for i in range(length))\n    print(result_str)\n\nget_random_string(8)",
              "skip_execution": false
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02HW2HIXAB4XW4aUiEyrqEOeEchmhID8xXC",
            "name": "HTTP Request",
            "title": "Fetch Xchange Category",
            "type": "web-service.http_request",
            "base_type": "activity",
            "properties": {
              "action_timeout": 180,
              "allow_auto_redirect": true,
              "allow_headers_redirect": false,
              "continue_on_error_status_code": false,
              "continue_on_failure": false,
              "custom_headers": [
                {
                  "name": "Authorization",
                  "value": "Bearer $workflow.definition_workflow_02HW2HICORYS86LCEGjyK2LDjMketaGRAjU.local.variable_workflow_02HW2HID7HL7U0aD9NlHDX1h1zByEKlfKIC$"
                }
              ],
              "display_name": "Fetch Xchange Category",
              "method": "GET",
              "relative_url": "/api/v1/categories?type=xchange.category",
              "runtime_user": {
                "target_default": true
              },
              "skip_execution": false,
              "target": {
                "use_workflow_target": true
              }
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02HW2HIYEBG8H5VN8080dxo79kxhL0KoIZN",
            "name": "JSONPath Query",
            "title": "Fetch Cisco Category",
            "type": "corejava.jsonpathquery",
            "base_type": "activity",
            "properties": {
              "action_timeout": 180,
              "continue_on_failure": false,
              "display_name": "Fetch Cisco Category",
              "input_json": "$activity.definition_activity_02HW2HIXAB4XW4aUiEyrqEOeEchmhID8xXC.output.response_body$",
              "jsonpath_queries": [
                {
                  "jsonpath_query": "$.[?(@.name=='Cisco XDR')].id",
                  "jsonpath_query_name": "Cisco XDR Category ID",
                  "jsonpath_query_type": "string"
                }
              ],
              "skip_execution": false
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02HW2HIZSJXZ277Qaf0539XSBUyUEaTP05b",
            "name": "HTTP Request",
            "title": "GET WF by ID",
            "type": "web-service.http_request",
            "base_type": "activity",
            "properties": {
              "action_timeout": 180,
              "allow_auto_redirect": true,
              "allow_headers_redirect": false,
              "continue_on_error_status_code": false,
              "continue_on_failure": false,
              "custom_headers": [
                {
                  "name": "Authorization",
                  "value": "Bearer $workflow.definition_workflow_02HW2HICORYS86LCEGjyK2LDjMketaGRAjU.local.variable_workflow_02HW2HID7HL7U0aD9NlHDX1h1zByEKlfKIC$"
                }
              ],
              "display_name": "GET WF by ID",
              "method": "GET",
              "relative_url": "/api/v1/workflows/$activity.definition_activity_02HW2HIPN3YCP4Nqe9XYdl4opbsvvo8inZb.output.variable_workflow_02GBQB28Y2PES61pXPUX1k86YtoFbnP7r11$",
              "runtime_user": {
                "target_default": true
              },
              "skip_execution": false,
              "target": {
                "use_workflow_target": true
              }
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02HW2HJ16Q8BC35WIbWcdXIRShC7vLN4RAw",
            "name": "Sleep",
            "title": "Sleep for 2s",
            "type": "core.sleep",
            "base_type": "activity",
            "properties": {
              "continue_on_failure": false,
              "display_name": "Sleep for 2s",
              "skip_execution": false,
              "sleep_interval": 2
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02HW2HJ262NKX4cKF2jppWs8EuwfXVlkHsZ",
            "name": "JSONPath Query",
            "title": "Fetch Workflow ID",
            "type": "corejava.jsonpathquery",
            "base_type": "activity",
            "properties": {
              "action_timeout": 180,
              "continue_on_failure": false,
              "display_name": "Fetch Workflow ID",
              "input_json": "$activity.definition_activity_02HW2HIZSJXZ277Qaf0539XSBUyUEaTP05b.output.response_body$",
              "jsonpath_queries": [
                {
                  "jsonpath_query": "$.owner",
                  "jsonpath_query_name": "Workflow_Owner",
                  "jsonpath_query_type": "string",
                  "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
                }
              ],
              "skip_execution": false
            },
            "object_type": "definition_activity"
          }
        ]
      },
      {
        "unique_name": "definition_activity_02HW2HJ3I45R66jks6aErd5oRttl638wyMQ",
        "name": "Group",
        "title": "Submit Exchange by TA",
        "type": "logic.group",
        "base_type": "activity",
        "properties": {
          "continue_on_failure": false,
          "display_name": "Submit Exchange by TA",
          "skip_execution": false
        },
        "object_type": "definition_activity",
        "actions": [
          {
            "unique_name": "definition_activity_02HW2HJ57BZR51rpQYLXsFh8pfbuTpKJlrQ",
            "name": "HTTP Request",
            "title": "Save Exchange",
            "type": "web-service.http_request",
            "base_type": "activity",
            "properties": {
              "action_timeout": 180,
              "allow_auto_redirect": true,
              "allow_headers_redirect": false,
              "body": "{\n  \"name\": \"4618-notification-$activity.definition_activity_02HW2HIW9V6LV42DO4jKGOXuy6RGtCeXjxx.output.response_body$\",\n  \"title\": \"4618-notification-$activity.definition_activity_02HW2HIW9V6LV42DO4jKGOXuy6RGtCeXjxx.output.response_body$\",\n  \"type\": \"generic.xchange\",\n  \"blurb\": \"Testing XDR-4618 - notification for Xchange\",\n  \"type_of_submission\": \"cisco_verified\",\n  \"contact_email\": \"vspancha@cisco.com\",\n  \"categories\": [\n    \"$activity.definition_activity_02HW2HIYEBG8H5VN8080dxo79kxhL0KoIZN.output.jsonpath_queries.Cisco XDR Category ID$\"\n  ],\n  \"properties\": {\n    \"display_name\": \"4618-notification-$activity.definition_activity_02HW2HIW9V6LV42DO4jKGOXuy6RGtCeXjxx.output.response_body$\",\n    \"description\": \"Testing XDR-4618 - notification for Xchange\",\n    \"external_links\": [\n      {\n        \"key\": \"Content Licensing\",\n        \"value\": \"https://docs.xdr.security.cisco.com/Content/Automate/licensing.htm\"\n      },\n      {\n        \"key\": \"Developer Community\",\n        \"value\": \"https://community.cisco.com/t5/cisco-xdr/bd-p/developer-xdr\",\n        \"removable\": true\n      }\n    ]\n  },\n  \"authored_by\": \"Vinay\",\n  \"workflow_ids\": [\n    \"$activity.definition_activity_02HW2HIPN3YCP4Nqe9XYdl4opbsvvo8inZb.output.variable_workflow_02GBQB28Y2PES61pXPUX1k86YtoFbnP7r11$\"\n  ]\n}",
              "continue_on_error_status_code": false,
              "continue_on_failure": false,
              "custom_headers": [
                {
                  "name": "Authorization",
                  "value": "Bearer $workflow.definition_workflow_02HW2HICORYS86LCEGjyK2LDjMketaGRAjU.local.variable_workflow_02HW2HID7HL7U0aD9NlHDX1h1zByEKlfKIC$"
                }
              ],
              "display_name": "Save Exchange",
              "method": "POST",
              "relative_url": "/exchange/api/v1/xchanges/",
              "runtime_user": {
                "target_default": true
              },
              "skip_execution": false,
              "target": {
                "use_workflow_target": true
              }
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02HW2HJ6YZB3T4GPmWMTWVHvuCdJt2S9arL",
            "name": "Sleep",
            "title": "Sleep for 10s",
            "type": "core.sleep",
            "base_type": "activity",
            "properties": {
              "continue_on_failure": false,
              "display_name": "Sleep for 10s",
              "skip_execution": false,
              "sleep_interval": 10
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02HW2HJ7YLQSY09Fqrn5jLQYMqQ3kxUEKHM",
            "name": "JSONPath Query",
            "title": "Fetch Local Xchange ID",
            "type": "corejava.jsonpathquery",
            "base_type": "activity",
            "properties": {
              "action_timeout": 180,
              "continue_on_failure": false,
              "display_name": "Fetch Local Xchange ID",
              "input_json": "$activity.definition_activity_02HW2HJ57BZR51rpQYLXsFh8pfbuTpKJlrQ.output.response_body$",
              "jsonpath_queries": [
                {
                  "jsonpath_query": "$._id",
                  "jsonpath_query_name": "Local_XchangeID",
                  "jsonpath_query_type": "string",
                  "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
                },
                {
                  "jsonpath_query": "$.properties.display_name",
                  "jsonpath_query_name": "Xchange_DisplayName",
                  "jsonpath_query_type": "string",
                  "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
                },
                {
                  "jsonpath_query": "$.unique_name",
                  "jsonpath_query_name": "Xchange_UniqueName",
                  "jsonpath_query_type": "string",
                  "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
                }
              ],
              "skip_execution": false
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02HW2HJ9CTIV63BmbjnsjzxvPdh5WtamA9o",
            "name": "HTTP Request",
            "title": "Submit Exchange",
            "type": "web-service.http_request",
            "base_type": "activity",
            "properties": {
              "action_timeout": 180,
              "allow_auto_redirect": true,
              "allow_headers_redirect": false,
              "body": "{\n  \"release_note\": \"V1.0 Released - Audit Trail\",\n  \"name\": \"$activity.definition_activity_02HW2HJ7YLQSY09Fqrn5jLQYMqQ3kxUEKHM.output.jsonpath_queries.Xchange_DisplayName$\",\n  \"title\": \"$activity.definition_activity_02HW2HJ7YLQSY09Fqrn5jLQYMqQ3kxUEKHM.output.jsonpath_queries.Xchange_DisplayName$\",\n  \"type\": \"generic.xchange\",\n  \"blurb\": \"Testing XDR-4618 - notification for Xchange\",\n  \"type_of_submission\": \"cisco_verified\",\n  \"contact_email\": \"vspancha@cisco.com\",\n  \"categories\": [\n    \"$activity.definition_activity_02HW2HIYEBG8H5VN8080dxo79kxhL0KoIZN.output.jsonpath_queries.Cisco XDR Category ID$\"\n  ],\n  \"properties\": {\n    \"display_name\": \"$activity.definition_activity_02HW2HJ7YLQSY09Fqrn5jLQYMqQ3kxUEKHM.output.jsonpath_queries.Xchange_DisplayName$\",\n    \"description\": \"Testing XDR-4618 - notification for Xchange\",\n    \"external_links\": [\n      {\n        \"key\": \"Content Licensing\",\n        \"value\": \"https://docs.xdr.security.cisco.com/Content/Automate/licensing.htm\"\n      },\n      {\n        \"key\": \"Developer Community\",\n        \"removable\": true,\n        \"value\": \"https://community.cisco.com/t5/cisco-xdr/bd-p/developer-xdr\"\n      }\n    ]\n  },\n  \"authored_by\": \"Vinay\",\n  \"workflow_ids\": [\n    \"$activity.definition_activity_02HW2HIPN3YCP4Nqe9XYdl4opbsvvo8inZb.output.variable_workflow_02GBQB28Y2PES61pXPUX1k86YtoFbnP7r11$\"\n  ]\n}",
              "continue_on_error_status_code": false,
              "continue_on_failure": true,
              "custom_headers": [
                {
                  "name": "Authorization",
                  "value": "Bearer $workflow.definition_workflow_02HW2HICORYS86LCEGjyK2LDjMketaGRAjU.local.variable_workflow_02HW2HID7HL7U0aD9NlHDX1h1zByEKlfKIC$"
                }
              ],
              "display_name": "Submit Exchange",
              "method": "PUT",
              "relative_url": "exchange/api/v1/xchanges/$activity.definition_activity_02HW2HJ7YLQSY09Fqrn5jLQYMqQ3kxUEKHM.output.jsonpath_queries.Local_XchangeID$?submit=true",
              "runtime_user": {
                "target_default": true
              },
              "skip_execution": false,
              "target": {
                "use_workflow_target": true
              }
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02HW2HJBB19D057WWAMapxmAbvZ41fXk0ZL",
            "name": "Sleep",
            "title": "Sleep for 5s",
            "type": "core.sleep",
            "base_type": "activity",
            "properties": {
              "continue_on_failure": false,
              "display_name": "Sleep for 5s",
              "skip_execution": false,
              "sleep_interval": 5
            },
            "object_type": "definition_activity"
          }
        ]
      },
      {
        "unique_name": "definition_activity_02HW2HMYZEXN43m7ggnNASPT7IQePfOA3nb",
        "name": "Group",
        "title": "Cleanup",
        "type": "logic.group",
        "base_type": "activity",
        "properties": {
          "continue_on_failure": false,
          "display_name": "Cleanup",
          "skip_execution": false
        },
        "object_type": "definition_activity",
        "actions": [
          {
            "unique_name": "definition_activity_02HW2HN3JFUTF28UjSBsFRUs548a108AUhY",
            "name": "HTTP Request",
            "title": "Delete Exchange",
            "type": "web-service.http_request",
            "base_type": "activity",
            "properties": {
              "action_timeout": 180,
              "allow_auto_redirect": true,
              "allow_headers_redirect": false,
              "continue_on_error_status_code": false,
              "continue_on_failure": true,
              "custom_headers": [
                {
                  "name": "Authorization",
                  "value": "Bearer $workflow.definition_workflow_02HW2HICORYS86LCEGjyK2LDjMketaGRAjU.local.variable_workflow_02HW2HID7HL7U0aD9NlHDX1h1zByEKlfKIC$"
                }
              ],
              "display_name": "Delete Exchange",
              "method": "DELETE",
              "relative_url": "/exchange/api/v1/xchanges/$activity.definition_activity_02HW2HJ7YLQSY09Fqrn5jLQYMqQ3kxUEKHM.output.jsonpath_queries.Local_XchangeID$",
              "runtime_user": {
                "target_default": true
              },
              "skip_execution": false,
              "target": {
                "use_workflow_target": true
              }
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02HW2HN50EQ937S5d8uZNYPL0B9aLndhtdh",
            "name": "Sleep",
            "title": "Sleep for 5s",
            "type": "core.sleep",
            "base_type": "activity",
            "properties": {
              "continue_on_failure": false,
              "display_name": "Sleep for 5s",
              "skip_execution": false,
              "sleep_interval": 5
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02HW2HN8HRCYL3Cr5nv4Htg1fT3I9wTUOmp",
            "name": "HTTP Request",
            "title": "Delete workflow",
            "type": "web-service.http_request",
            "base_type": "activity",
            "properties": {
              "action_timeout": 180,
              "allow_auto_redirect": true,
              "allow_headers_redirect": false,
              "continue_on_error_status_code": false,
              "continue_on_failure": false,
              "custom_headers": [
                {
                  "name": "Authorization",
                  "value": "Bearer $workflow.definition_workflow_02HW2HICORYS86LCEGjyK2LDjMketaGRAjU.local.variable_workflow_02HW2HID7HL7U0aD9NlHDX1h1zByEKlfKIC$"
                }
              ],
              "display_name": "Delete workflow",
              "method": "DELETE",
              "relative_url": "/api/v1/workflows/$activity.definition_activity_02HW2HIPN3YCP4Nqe9XYdl4opbsvvo8inZb.output.variable_workflow_02GBQB28Y2PES61pXPUX1k86YtoFbnP7r11$",
              "runtime_user": {
                "target_default": true
              },
              "skip_execution": false,
              "target": {
                "use_workflow_target": true
              }
            },
            "object_type": "definition_activity"
          }
        ]
      },
      {
        "unique_name": "definition_activity_02HW58NML99YC1gT5j4ktRzeKIB4WLG9yAb",
        "name": "Condition Block",
        "title": "Verify the Xchange Limits",
        "type": "logic.if_else",
        "base_type": "activity",
        "properties": {
          "conditions": [],
          "continue_on_failure": false,
          "display_name": "Verify the Xchange Limits",
          "skip_execution": false
        },
        "object_type": "definition_activity",
        "blocks": [
          {
            "unique_name": "definition_activity_02HW58NMYWN8C7hyx6IL4MMC8bIESw40xs3",
            "name": "Condition Branch",
            "title": "PassCase",
            "type": "logic.condition_block",
            "base_type": "activity",
            "properties": {
              "condition": {
                "left_operand": "$activity.definition_activity_02HW2HJ9CTIV63BmbjnsjzxvPdh5WtamA9o.output.error.code$",
                "operator": "eq",
                "right_operand": "403"
              },
              "continue_on_failure": false,
              "display_name": "PassCase",
              "skip_execution": false
            },
            "object_type": "definition_activity",
            "actions": [
              {
                "unique_name": "definition_activity_02HW59YOEZJWW0lNJFIffKGiN95c1FmqBqm",
                "name": "Set Variables",
                "title": "Limit is Reached",
                "type": "core.set_multiple_variables",
                "base_type": "activity",
                "properties": {
                  "continue_on_failure": false,
                  "display_name": "Limit is Reached",
                  "skip_execution": false,
                  "variables_to_update": [
                    {
                      "variable_to_update": "$workflow.definition_workflow_02HW2HICORYS86LCEGjyK2LDjMketaGRAjU.output.variable_workflow_02HW2HID7IBCI65VfsGGZbgq5QbmK3sUUJH$",
                      "variable_value_new": "Pass"
                    }
                  ]
                },
                "object_type": "definition_activity"
              }
            ]
          },
          {
            "unique_name": "definition_activity_02HW5APVF3E6P0o4ZFNNAxWl9z4Ve8FIyVa",
            "name": "Condition Branch",
            "title": "FailCase",
            "type": "logic.condition_block",
            "base_type": "activity",
            "properties": {
              "condition": {
                "left_operand": "$activity.definition_activity_02HW2HJ9CTIV63BmbjnsjzxvPdh5WtamA9o.output.error.code$",
                "operator": "ne",
                "right_operand": "403"
              },
              "continue_on_failure": false,
              "display_name": "FailCase",
              "skip_execution": false
            },
            "object_type": "definition_activity",
            "actions": [
              {
                "unique_name": "definition_activity_02HW5APVF49U908Je7GH9fh8rAcR8RZCNUq",
                "name": "Set Variables",
                "title": "Limit is not Reached",
                "type": "core.set_multiple_variables",
                "base_type": "activity",
                "properties": {
                  "continue_on_failure": false,
                  "description": "Set Exchange Limit to 1",
                  "display_name": "Limit is not Reached",
                  "skip_execution": false,
                  "variables_to_update": [
                    {
                      "variable_to_update": "$workflow.definition_workflow_02HW2HICORYS86LCEGjyK2LDjMketaGRAjU.output.variable_workflow_02HW2HID7IBCI65VfsGGZbgq5QbmK3sUUJH$",
                      "variable_value_new": "Fail"
                    }
                  ]
                },
                "object_type": "definition_activity"
              },
              {
                "unique_name": "definition_activity_02HW5HFAHO34Y7czhhzMyCuRoGuR5xBZ85q",
                "name": "Completed",
                "title": "Failed",
                "type": "logic.completed",
                "base_type": "activity",
                "properties": {
                  "completion_type": "failed-completed",
                  "continue_on_failure": false,
                  "display_name": "Failed",
                  "result_message": "Run the Exchange Again",
                  "skip_execution": false
                },
                "object_type": "definition_activity"
              }
            ]
          }
        ]
      }
    ],
    "categories": [
      "category_1BMfMXSnJMyt5Ihqi7rWJr5N8cf"
    ]
  },
  "categories": {
    "category_01GUFX9FVCE283ZPiHKK9kqAufyYonIV94A": {
      "unique_name": "category_01GUFX9FVCE283ZPiHKK9kqAufyYonIV94A",
      "name": "CA Web Services",
      "title": "CA Web Services",
      "type": "basic.category",
      "base_type": "category",
      "category_type": "system",
      "object_type": "category"
    }
  },
  "targets": {
    "definition_target_02HW3UMGXAWHE6ruEGivmG0zUVblIgwoY1D": {
      "unique_name": "definition_target_02HW3UMGXAWHE6ruEGivmG0zUVblIgwoY1D",
      "name": "Custom Automation API",
      "title": "Custom Automation API",
      "type": "web-service.endpoint",
      "base_type": "target",
      "object_type": "definition_target",
      "properties": {
        "disable_certificate_validation": true,
        "display_name": "Custom Automation API",
        "host": "automate.test.iroh.site",
        "ignore_proxy": true,
        "no_runtime_user": true,
        "protocol": "https"
      }
    }
  },
  "subworkflows": [
    {
      "workflow": {
        "unique_name": "definition_workflow_02BC75FXY8V6Q7fCnqF2hIiteIL3tPcTIMX",
        "name": "SXO- Create Token-Generate Token",
        "title": "SXO- Create Token-Generate Token",
        "type": "generic.workflow",
        "base_type": "workflow",
        "variables": [
          {
            "schema_id": "datatype.string",
            "properties": {
              "value": "",
              "scope": "input",
              "name": "client_id",
              "type": "datatype.string",
              "is_required": true,
              "display_on_wizard": false,
              "is_invisible": false,
              "variable_string_format": ""
            },
            "unique_name": "variable_workflow_02BC75FY6KJQ31bp06fvoXJ188gYh1wbUa7",
            "object_type": "variable_workflow"
          },
          {
            "schema_id": "datatype.string",
            "properties": {
              "value": "Fail",
              "scope": "output",
              "name": "Token Generation Status",
              "type": "datatype.string",
              "is_required": false,
              "display_on_wizard": false,
              "is_invisible": false,
              "variable_string_format": ""
            },
            "unique_name": "variable_workflow_02DJBM55OAE734oLfvIKzE4MxFyiXIrVcYR",
            "object_type": "variable_workflow"
          },
          {
            "schema_id": "datatype.string",
            "properties": {
              "value": "",
              "scope": "input",
              "name": "client-secret",
              "type": "datatype.string",
              "is_required": true,
              "display_on_wizard": false,
              "is_invisible": false,
              "variable_string_format": ""
            },
            "unique_name": "variable_workflow_02BC8GA3DL7UT2XvjCn2jMUeOtCfsmMDZy4",
            "object_type": "variable_workflow"
          },
          {
            "schema_id": "datatype.string",
            "properties": {
              "value": "",
              "scope": "output",
              "name": "token",
              "type": "datatype.string",
              "is_required": false,
              "display_on_wizard": false,
              "is_invisible": false,
              "variable_string_format": ""
            },
            "unique_name": "variable_workflow_02BC75FY6K85Y7UxbMgUx2RiWsymGSVCmQm",
            "object_type": "variable_workflow"
          }
        ],
        "properties": {
          "atomic": {
            "is_atomic": false
          },
          "delete_workflow_instance": false,
          "description": "This WF Used Generate Token for Tenant Using Client ID and Client Secret",
          "display_name": "SXO- Create Token-Generate Token",
          "runtime_user": {
            "target_default": true
          },
          "target": {
            "target_type": "web-service.endpoint",
            "target_id": "$module_target;Cisco XDR;securex:ao:iroh_api;platform-apis$",
            "execute_on_workflow_target": true
          }
        },
        "object_type": "definition_workflow",
        "actions": [
          {
            "unique_name": "definition_activity_02BC75G22FOUZ4EkPmUFkyaUDv7ufY6XoyD",
            "name": "HTTP Request",
            "title": "Create token",
            "type": "web-service.http_request",
            "base_type": "activity",
            "properties": {
              "action_timeout": 180,
              "allow_auto_redirect": true,
              "allow_headers_redirect": false,
              "body": "client_secret=$workflow.definition_workflow_02BC75FXY8V6Q7fCnqF2hIiteIL3tPcTIMX.input.variable_workflow_02BC8GA3DL7UT2XvjCn2jMUeOtCfsmMDZy4$\u0026grant_type=client_credentials\u0026client_id=$workflow.definition_workflow_02BC75FXY8V6Q7fCnqF2hIiteIL3tPcTIMX.input.variable_workflow_02BC75FY6KJQ31bp06fvoXJ188gYh1wbUa7$",
              "continue_on_error_status_code": false,
              "continue_on_failure": true,
              "custom_headers": [
                {
                  "name": "Content-Type",
                  "value": "application/x-www-form-urlencoded"
                }
              ],
              "display_name": "Create token",
              "method": "POST",
              "relative_url": "/oauth2/token",
              "runtime_user": {
                "target_default": true
              },
              "skip_execution": false,
              "target": {
                "use_workflow_target": true
              }
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02BC75G34XD9J77fLUiyGdXiTwppF2BuwNV",
            "name": "JSONPath Query",
            "title": "Get Token",
            "type": "corejava.jsonpathquery",
            "base_type": "activity",
            "properties": {
              "action_timeout": 180,
              "continue_on_failure": true,
              "display_name": "Get Token",
              "input_json": "$activity.definition_activity_02BC75G22FOUZ4EkPmUFkyaUDv7ufY6XoyD.output.response_body$",
              "jsonpath_queries": [
                {
                  "jsonpath_query": "$.access_token",
                  "jsonpath_query_name": "token",
                  "jsonpath_query_type": "string",
                  "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
                }
              ],
              "skip_execution": false
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02BC75G4HIDLS4gLpshXHmYqx7felpNEF3o",
            "name": "Set Variables",
            "title": "Set token output variable to generated token",
            "type": "core.set_multiple_variables",
            "base_type": "activity",
            "properties": {
              "continue_on_failure": true,
              "display_name": "Set token output variable to generated token",
              "skip_execution": false,
              "variables_to_update": [
                {
                  "variable_to_update": "$workflow.definition_workflow_02BC75FXY8V6Q7fCnqF2hIiteIL3tPcTIMX.output.variable_workflow_02BC75FY6K85Y7UxbMgUx2RiWsymGSVCmQm$",
                  "variable_value_new": "$activity.definition_activity_02BC75G34XD9J77fLUiyGdXiTwppF2BuwNV.output.jsonpath_queries.token$"
                }
              ]
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02DJBMAELR6VK7CssqESkx4t4o9vPm3Zq6Q",
            "name": "Condition Block",
            "title": "Verify Token Generation",
            "type": "logic.if_else",
            "base_type": "activity",
            "properties": {
              "continue_on_failure": false,
              "display_name": "Verify Token Generation",
              "skip_execution": false
            },
            "object_type": "definition_activity",
            "blocks": [
              {
                "unique_name": "definition_activity_02DJBMAESCT805PwD1svfBaW7TxxRzXFyzr",
                "name": "Condition Branch",
                "title": "Pass Case",
                "type": "logic.condition_block",
                "base_type": "activity",
                "properties": {
                  "condition": {
                    "left_operand": {
                      "left_operand": {
                        "left_operand": "$activity.definition_activity_02BC75G22FOUZ4EkPmUFkyaUDv7ufY6XoyD.output.error.code$",
                        "operator": "eq",
                        "right_operand": "200"
                      },
                      "operator": "and",
                      "right_operand": {
                        "left_operand": "$activity.definition_activity_02BC75G34XD9J77fLUiyGdXiTwppF2BuwNV.output.error.code$",
                        "operator": "eq",
                        "right_operand": "200"
                      }
                    },
                    "operator": "and",
                    "right_operand": {
                      "left_operand": "$activity.definition_activity_02BC75G4HIDLS4gLpshXHmYqx7felpNEF3o.output.error.code$",
                      "operator": "eq",
                      "right_operand": "200"
                    }
                  },
                  "continue_on_failure": false,
                  "display_name": "Pass Case",
                  "skip_execution": false
                },
                "object_type": "definition_activity",
                "actions": [
                  {
                    "unique_name": "definition_activity_02DJBNQ2F3PNZ0AKjBx061Nt1mgaPTGY3IK",
                    "name": "Set Variables",
                    "title": "PassCase",
                    "type": "core.set_multiple_variables",
                    "base_type": "activity",
                    "properties": {
                      "continue_on_failure": false,
                      "display_name": "PassCase",
                      "skip_execution": false,
                      "variables_to_update": [
                        {
                          "variable_to_update": "$workflow.definition_workflow_02BC75FXY8V6Q7fCnqF2hIiteIL3tPcTIMX.output.variable_workflow_02DJBM55OAE734oLfvIKzE4MxFyiXIrVcYR$",
                          "variable_value_new": "Pass"
                        }
                      ]
                    },
                    "object_type": "definition_activity"
                  }
                ]
              },
              {
                "unique_name": "definition_activity_02DJBO37G1DKK2Wz94WUSToBiRzqwf6nJp4",
                "name": "Condition Branch",
                "title": "Fail Case",
                "type": "logic.condition_block",
                "base_type": "activity",
                "properties": {
                  "condition": {
                    "left_operand": {
                      "left_operand": {
                        "left_operand": "$activity.definition_activity_02BC75G22FOUZ4EkPmUFkyaUDv7ufY6XoyD.output.error.code$",
                        "operator": "ne",
                        "right_operand": "200"
                      },
                      "operator": "or",
                      "right_operand": {
                        "left_operand": "$activity.definition_activity_02BC75G34XD9J77fLUiyGdXiTwppF2BuwNV.output.error.code$",
                        "operator": "ne",
                        "right_operand": "200"
                      }
                    },
                    "operator": "or",
                    "right_operand": {
                      "left_operand": "$activity.definition_activity_02BC75G4HIDLS4gLpshXHmYqx7felpNEF3o.output.error.code$",
                      "operator": "ne",
                      "right_operand": "200"
                    }
                  },
                  "continue_on_failure": false,
                  "display_name": "Fail Case",
                  "skip_execution": false
                },
                "object_type": "definition_activity",
                "actions": [
                  {
                    "unique_name": "definition_activity_02DJO4X2EUMJR6ZKxfWWb3fyUYJHxSkucwM",
                    "name": "Completed",
                    "title": "Failed",
                    "type": "logic.completed",
                    "base_type": "activity",
                    "properties": {
                      "completion_type": "failed-completed",
                      "continue_on_failure": false,
                      "display_name": "Failed",
                      "skip_execution": false
                    },
                    "object_type": "definition_activity"
                  }
                ]
              }
            ]
          }
        ],
        "categories": [
          "category_1BMfMXSnJMyt5Ihqi7rWJr5N8cf"
        ]
      }
    },
    {
      "workflow": {
        "unique_name": "definition_workflow_02GBQB28CZCLO0PJeeQjFUciEZs5LS7TypV",
        "name": "Copy(1)-SXO- Create Generic Workflow",
        "title": "Copy(1)-SXO- Create Generic Workflow",
        "type": "generic.workflow",
        "base_type": "workflow",
        "variables": [
          {
            "schema_id": "datatype.string",
            "properties": {
              "value": "",
              "scope": "output",
              "name": "Pass or Fail",
              "type": "datatype.string",
              "is_required": false,
              "display_on_wizard": false,
              "is_invisible": false,
              "variable_string_format": ""
            },
            "unique_name": "variable_workflow_02GBQB28Y300J2UKdIp15uXRgmyNM4vc6PU",
            "object_type": "variable_workflow"
          },
          {
            "schema_id": "datatype.string",
            "properties": {
              "value": "",
              "scope": "output",
              "name": "Workflow ID",
              "type": "datatype.string",
              "is_required": false,
              "display_on_wizard": false,
              "is_invisible": false,
              "variable_string_format": ""
            },
            "unique_name": "variable_workflow_02GBQB28Y2PES61pXPUX1k86YtoFbnP7r11",
            "object_type": "variable_workflow"
          },
          {
            "schema_id": "datatype.string",
            "properties": {
              "value": "",
              "scope": "output",
              "name": "Workflow Unique_name",
              "type": "datatype.string",
              "is_required": false,
              "display_on_wizard": false,
              "is_invisible": false,
              "variable_string_format": ""
            },
            "unique_name": "variable_workflow_02GBQB28Y21IY1pkLQNlDhm67FkNFLDf3LB",
            "object_type": "variable_workflow"
          },
          {
            "schema_id": "datatype.string",
            "properties": {
              "value": "",
              "scope": "output",
              "name": "Workflow Name",
              "type": "datatype.string",
              "is_required": false,
              "display_on_wizard": false,
              "is_invisible": false,
              "variable_string_format": ""
            },
            "unique_name": "variable_workflow_02GBQB28Y2F8634P8cOQban4ni3TY2u5JpZ",
            "object_type": "variable_workflow"
          },
          {
            "schema_id": "datatype.string",
            "properties": {
              "value": "Bearer ",
              "scope": "input",
              "name": "Token",
              "type": "datatype.string",
              "is_required": false,
              "display_on_wizard": false,
              "is_invisible": false,
              "variable_string_format": ""
            },
            "unique_name": "variable_workflow_02GBQB28Y1NLE2yTSYU498oB81EucgD2liM",
            "object_type": "variable_workflow"
          },
          {
            "schema_id": "datatype.string",
            "properties": {
              "value": "Generic WF- ",
              "scope": "input",
              "name": "Provide WF Name",
              "type": "datatype.string",
              "is_required": true,
              "display_on_wizard": false,
              "is_invisible": false,
              "variable_string_format": ""
            },
            "unique_name": "variable_workflow_02GBQB28Y37KQ4mU37FbWuFjqiAbxPGE6Gu",
            "object_type": "variable_workflow"
          },
          {
            "schema_id": "datatype.string",
            "properties": {
              "value": "Authorization",
              "scope": "local",
              "name": "Authorization",
              "type": "datatype.string",
              "is_required": false,
              "display_on_wizard": false,
              "is_invisible": false,
              "variable_string_format": ""
            },
            "unique_name": "variable_workflow_02GBQB28Y19C86SK2Fa3Y5T1T8dN32PdD6K",
            "object_type": "variable_workflow"
          },
          {
            "schema_id": "datatype.string",
            "properties": {
              "value": "",
              "scope": "output",
              "name": "Pass Value",
              "type": "datatype.string",
              "is_required": false,
              "display_on_wizard": false,
              "is_invisible": false,
              "variable_string_format": ""
            },
            "unique_name": "variable_workflow_02GBQB28Y0SL93SXnVvqrfGyP1KlBxPtWug",
            "object_type": "variable_workflow"
          }
        ],
        "properties": {
          "atomic": {
            "is_atomic": false
          },
          "delete_workflow_instance": false,
          "display_name": "Copy(1)-SXO- Create Generic Workflow",
          "runtime_user": {
            "override_target_runtime_user": false,
            "specify_on_workflow_start": false,
            "target_default": true
          },
          "target": {
            "target_type": "web-service.endpoint",
            "specify_on_workflow_start": true
          }
        },
        "object_type": "definition_workflow",
        "actions": [
          {
            "unique_name": "definition_activity_02GBQB2CD02DY65BgwukAYWxBf89uAjoJxQ",
            "name": "Group",
            "title": "Create  Generic Workflow and adding upper action",
            "type": "logic.group",
            "base_type": "activity",
            "properties": {
              "continue_on_failure": true,
              "display_name": "Create  Generic Workflow and adding upper action",
              "skip_execution": false
            },
            "object_type": "definition_activity",
            "actions": [
              {
                "unique_name": "definition_activity_02GBQB2DSV09H2pAHEpr64G8QD8thgE8WUn",
                "name": "HTTP Request",
                "title": "Create Workflow",
                "type": "web-service.http_request",
                "base_type": "activity",
                "properties": {
                  "action_timeout": 180,
                  "allow_auto_redirect": true,
                  "allow_headers_redirect": false,
                  "body": "{\n  \"name\": \"$workflow.definition_workflow_02GBQB28CZCLO0PJeeQjFUciEZs5LS7TypV.input.variable_workflow_02GBQB28Y37KQ4mU37FbWuFjqiAbxPGE6Gu$\",\n  \"title\": \"$workflow.definition_workflow_02GBQB28CZCLO0PJeeQjFUciEZs5LS7TypV.input.variable_workflow_02GBQB28Y37KQ4mU37FbWuFjqiAbxPGE6Gu$\",\n  \"type\": \"generic.workflow\",\n  \"base_type\": \"workflow\",\n  \"properties\": {\n    \"display_name\": \"$workflow.definition_workflow_02GBQB28CZCLO0PJeeQjFUciEZs5LS7TypV.input.variable_workflow_02GBQB28Y37KQ4mU37FbWuFjqiAbxPGE6Gu$\",\n    \"atomic\": {\n      \"is_atomic\": false\n    },\n    \"delete_workflow_instance\": false,\n    \"runtime_user\": {\n      \"override_target_runtime_user\": false,\n      \"specify_on_workflow_start\": false,\n      \"target_default\": true\n    },\n    \"target\": {\n      \"execute_on_target_group\": false,\n      \"execute_on_workflow_target\": false,\n      \"no_target\": true,\n      \"specify_on_workflow_start\": false\n    }\n  }\n}",
                  "content_type": "application/json",
                  "continue_on_error_status_code": false,
                  "continue_on_failure": true,
                  "custom_headers": [
                    {
                      "name": "$workflow.definition_workflow_02GBQB28CZCLO0PJeeQjFUciEZs5LS7TypV.local.variable_workflow_02GBQB28Y19C86SK2Fa3Y5T1T8dN32PdD6K$",
                      "value": "$workflow.definition_workflow_02GBQB28CZCLO0PJeeQjFUciEZs5LS7TypV.input.variable_workflow_02GBQB28Y1NLE2yTSYU498oB81EucgD2liM$"
                    }
                  ],
                  "display_name": "Create Workflow",
                  "method": "POST",
                  "relative_url": "be-console/api/v1/workflows",
                  "runtime_user": {
                    "override_target_runtime_user": false,
                    "target_default": true
                  },
                  "skip_execution": false,
                  "target": {
                    "override_workflow_target": false,
                    "override_workflow_target_group_criteria": false,
                    "use_workflow_target": true,
                    "use_workflow_target_group": false
                  }
                },
                "object_type": "definition_activity"
              },
              {
                "unique_name": "definition_activity_02GBQB2FN8VZH6H5swg311IoDH5zAZn4ydN",
                "name": "JSONPath Query",
                "title": "Extract Workflow ID and Name",
                "type": "corejava.jsonpathquery",
                "base_type": "activity",
                "properties": {
                  "action_timeout": 180,
                  "continue_on_failure": true,
                  "display_name": "Extract Workflow ID and Name",
                  "input_json": "$activity.definition_activity_02GBQB2DSV09H2pAHEpr64G8QD8thgE8WUn.output.response_body$",
                  "jsonpath_queries": [
                    {
                      "jsonpath_query": "$..id",
                      "jsonpath_query_name": "Workflow ID",
                      "jsonpath_query_type": "string",
                      "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
                    },
                    {
                      "jsonpath_query": "$..name",
                      "jsonpath_query_name": "workflow_name",
                      "jsonpath_query_type": "string",
                      "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
                    },
                    {
                      "jsonpath_query": "$..unique_name",
                      "jsonpath_query_name": "workflow_unique_name",
                      "jsonpath_query_type": "string"
                    }
                  ],
                  "skip_execution": false
                },
                "object_type": "definition_activity"
              },
              {
                "unique_name": "definition_activity_02GBQB2HL4BJ20aAPN0ehMWFRaay2AuQRrE",
                "name": "Set Variables",
                "title": "Storing WF id in O/P variable",
                "type": "core.set_multiple_variables",
                "base_type": "activity",
                "properties": {
                  "continue_on_failure": true,
                  "display_name": "Storing WF id in O/P variable",
                  "skip_execution": false,
                  "variables_to_update": [
                    {
                      "variable_to_update": "$workflow.definition_workflow_02GBQB28CZCLO0PJeeQjFUciEZs5LS7TypV.output.variable_workflow_02GBQB28Y2PES61pXPUX1k86YtoFbnP7r11$",
                      "variable_value_new": "$activity.definition_activity_02GBQB2FN8VZH6H5swg311IoDH5zAZn4ydN.output.jsonpath_queries.Workflow ID$"
                    },
                    {
                      "variable_to_update": "$workflow.definition_workflow_02GBQB28CZCLO0PJeeQjFUciEZs5LS7TypV.output.variable_workflow_02GBQB28Y2F8634P8cOQban4ni3TY2u5JpZ$",
                      "variable_value_new": "$activity.definition_activity_02GBQB2FN8VZH6H5swg311IoDH5zAZn4ydN.output.jsonpath_queries.workflow_name$"
                    },
                    {
                      "variable_to_update": "$workflow.definition_workflow_02GBQB28CZCLO0PJeeQjFUciEZs5LS7TypV.output.variable_workflow_02GBQB28Y21IY1pkLQNlDhm67FkNFLDf3LB$",
                      "variable_value_new": "$activity.definition_activity_02GBQB2FN8VZH6H5swg311IoDH5zAZn4ydN.output.jsonpath_queries.workflow_unique_name$"
                    }
                  ]
                },
                "object_type": "definition_activity"
              },
              {
                "unique_name": "definition_activity_02GBQB2IS4A8317k6M5JvK40XJvSZrS3uwu",
                "name": "Condition Block",
                "title": "Condition Block",
                "type": "logic.if_else",
                "base_type": "activity",
                "properties": {
                  "continue_on_failure": false,
                  "display_name": "Condition Block",
                  "skip_execution": false
                },
                "object_type": "definition_activity",
                "blocks": [
                  {
                    "unique_name": "definition_activity_02GBQB2JVBV830xB2BeKL1rqmm7RnpjElu3",
                    "name": "Condition Branch",
                    "title": "Condition Branch",
                    "type": "logic.condition_block",
                    "base_type": "activity",
                    "properties": {
                      "condition": {
                        "left_operand": {
                          "left_operand": {
                            "left_operand": "$activity.definition_activity_02GBQB2DSV09H2pAHEpr64G8QD8thgE8WUn.output.status_code$",
                            "operator": "eq",
                            "right_operand": 201
                          },
                          "operator": "and",
                          "right_operand": {
                            "left_operand": "$activity.definition_activity_02GBQB2DSV09H2pAHEpr64G8QD8thgE8WUn.output.error.code$",
                            "operator": "eq",
                            "right_operand": "200"
                          }
                        },
                        "operator": "and",
                        "right_operand": {
                          "left_operand": "$activity.definition_activity_02GBQB2DSV09H2pAHEpr64G8QD8thgE8WUn.output.succeeded$",
                          "operator": "eq",
                          "right_operand": true
                        }
                      },
                      "continue_on_failure": false,
                      "display_name": "Condition Branch",
                      "skip_execution": false
                    },
                    "object_type": "definition_activity",
                    "actions": [
                      {
                        "unique_name": "definition_activity_02GBQB2LGSFVI2ZsRaOFYhRf4NAzQIqSxOA",
                        "name": "Set Variables",
                        "title": "Set Variables",
                        "type": "core.set_multiple_variables",
                        "base_type": "activity",
                        "properties": {
                          "continue_on_failure": true,
                          "display_name": "Set Variables",
                          "skip_execution": false,
                          "variables_to_update": [
                            {
                              "variable_to_update": "$workflow.definition_workflow_02GBQB28CZCLO0PJeeQjFUciEZs5LS7TypV.output.variable_workflow_02GBQB28Y300J2UKdIp15uXRgmyNM4vc6PU$",
                              "variable_value_new": "true"
                            },
                            {
                              "variable_to_update": "$workflow.definition_workflow_02GBQB28CZCLO0PJeeQjFUciEZs5LS7TypV.output.variable_workflow_02GBQB28Y0SL93SXnVvqrfGyP1KlBxPtWug$",
                              "variable_value_new": "1"
                            }
                          ]
                        },
                        "object_type": "definition_activity"
                      }
                    ]
                  },
                  {
                    "unique_name": "definition_activity_02GBQB2MLP2O75yucDtTTzaV51yxIbEGANd",
                    "name": "Condition Branch",
                    "title": "Condition Branch",
                    "type": "logic.condition_block",
                    "base_type": "activity",
                    "properties": {
                      "condition": {
                        "left_operand": {
                          "left_operand": {
                            "left_operand": "$activity.definition_activity_02GBQB2DSV09H2pAHEpr64G8QD8thgE8WUn.output.status_code$",
                            "operator": "ne",
                            "right_operand": 201
                          },
                          "operator": "or",
                          "right_operand": {
                            "left_operand": "$activity.definition_activity_02GBQB2DSV09H2pAHEpr64G8QD8thgE8WUn.output.error.code$",
                            "operator": "ne",
                            "right_operand": "200"
                          }
                        },
                        "operator": "or",
                        "right_operand": {
                          "left_operand": "$activity.definition_activity_02GBQB2DSV09H2pAHEpr64G8QD8thgE8WUn.output.succeeded$",
                          "operator": "ne",
                          "right_operand": false
                        }
                      },
                      "continue_on_failure": true,
                      "display_name": "Condition Branch",
                      "skip_execution": false
                    },
                    "object_type": "definition_activity",
                    "actions": [
                      {
                        "unique_name": "definition_activity_02GBQB2O446QD48bXqWAFlLOYcKtIolP7F0",
                        "name": "Set Variables",
                        "title": "Set Variables",
                        "type": "core.set_multiple_variables",
                        "base_type": "activity",
                        "properties": {
                          "continue_on_failure": true,
                          "display_name": "Set Variables",
                          "skip_execution": false,
                          "variables_to_update": [
                            {
                              "variable_to_update": "$workflow.definition_workflow_02GBQB28CZCLO0PJeeQjFUciEZs5LS7TypV.output.variable_workflow_02GBQB28Y300J2UKdIp15uXRgmyNM4vc6PU$",
                              "variable_value_new": "false"
                            },
                            {
                              "variable_to_update": "$workflow.definition_workflow_02GBQB28CZCLO0PJeeQjFUciEZs5LS7TypV.output.variable_workflow_02GBQB28Y0SL93SXnVvqrfGyP1KlBxPtWug$",
                              "variable_value_new": "0"
                            }
                          ]
                        },
                        "object_type": "definition_activity"
                      }
                    ]
                  }
                ]
              }
            ]
          }
        ],
        "categories": [
          "category_01GUFX9FVCE283ZPiHKK9kqAufyYonIV94A"
        ]
      }
    }
  ],
  "atomic_workflows": [
    "definition_workflow_01TNRGUJTQ00K5a18OTctGAj8Qtrns7cITI",
    "definition_workflow_026R3MTZDNXS11nSJ26lq1HDCDh5bTUboMa"
  ],
  "dependent_workflows": [
    "definition_workflow_02BC75FXY8V6Q7fCnqF2hIiteIL3tPcTIMX",
    "definition_workflow_02GBQB28CZCLO0PJeeQjFUciEZs5LS7TypV",
    "definition_workflow_01TNRGUJTQ00K5a18OTctGAj8Qtrns7cITI",
    "definition_workflow_026R3MTZDNXS11nSJ26lq1HDCDh5bTUboMa"
  ],
  "module_targets": [
    {
      "module_type": "Cisco XDR",
      "external_id": "securex:ao:iroh_api",
      "proxy_endpoint_metadata_id": "platform-apis"
    }
  ]
}